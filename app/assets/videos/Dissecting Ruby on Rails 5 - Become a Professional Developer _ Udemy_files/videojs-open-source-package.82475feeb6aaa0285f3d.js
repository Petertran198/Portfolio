(window.webpackJsonp=window.webpackJsonp||[]).push([["videojs-open-source-package"],{"./node_modules/aes-decrypter/es5/aes.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();var c=null,r=function(){function l(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),c||(c=function(){var e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],n=t[4],r=i[4],a=void 0,s=void 0,o=void 0,u=[],d=[],l=void 0,c=void 0,h=void 0,f=void 0,p=void 0;for(a=0;a<256;a++)d[(u[a]=a<<1^283*(a>>7))^a]=a;for(s=o=0;!n[s];s^=l||1,o=d[o]||1)for(h=(h=o^o<<1^o<<2^o<<3^o<<4)>>8^255&h^99,p=16843009*u[c=u[l=u[r[n[s]=h]=s]]]^65537*c^257*l^16843008*s,f=257*u[h]^16843008*h,a=0;a<4;a++)t[a][s]=f=f<<24^f>>>8,i[a][h]=p=p<<24^p>>>8;for(a=0;a<5;a++)t[a]=t[a].slice(0),i[a]=i[a].slice(0);return e}()),this._tables=[[c[0][0].slice(),c[0][1].slice(),c[0][2].slice(),c[0][3].slice(),c[0][4].slice()],[c[1][0].slice(),c[1][1].slice(),c[1][2].slice(),c[1][3].slice(),c[1][4].slice()]];var t=void 0,i=void 0,n=void 0,r=void 0,a=void 0,s=this._tables[0][4],o=this._tables[1],u=e.length,d=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(r=e.slice(0),a=[],this._key=[r,a],t=u;t<4*u+28;t++)n=r[t-1],(t%u==0||8===u&&t%u==4)&&(n=s[n>>>24]<<24^s[n>>16&255]<<16^s[n>>8&255]<<8^s[255&n],t%u==0&&(n=n<<8^n>>>24^d<<24,d=d<<1^283*(d>>7))),r[t]=r[t-u]^n;for(i=0;t;i++,t--)n=r[3&i?t:t-4],a[i]=t<=4||i<4?n:o[0][s[n>>>24]]^o[1][s[n>>16&255]]^o[2][s[n>>8&255]]^o[3][s[255&n]]}return n(l,[{key:"decrypt",value:function(e,t,i,n,r,a){var s=this._key[1],o=e^s[0],u=n^s[1],d=i^s[2],l=t^s[3],c=void 0,h=void 0,f=void 0,p=s.length/4-2,m=void 0,g=4,y=this._tables[1],v=y[0],_=y[1],b=y[2],T=y[3],S=y[4];for(m=0;m<p;m++)c=v[o>>>24]^_[u>>16&255]^b[d>>8&255]^T[255&l]^s[g],h=v[u>>>24]^_[d>>16&255]^b[l>>8&255]^T[255&o]^s[g+1],f=v[d>>>24]^_[l>>16&255]^b[o>>8&255]^T[255&u]^s[g+2],l=v[l>>>24]^_[o>>16&255]^b[u>>8&255]^T[255&d]^s[g+3],g+=4,o=c,u=h,d=f;for(m=0;m<4;m++)r[(3&-m)+a]=S[o>>>24]<<24^S[u>>16&255]<<16^S[d>>8&255]<<8^S[255&l]^s[g++],c=o,o=u,u=d,d=l,l=c}}]),l}();t.default=r,e.exports=t.default},"./node_modules/aes-decrypter/es5/async-stream.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();var r,a=i("./node_modules/aes-decrypter/es5/stream.js"),s=(r=a)&&r.__esModule?r:{default:r},o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=a,i=s,n=!0,o=d=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,s.default),this.jobs=[],this.delay=1,this.timeout_=null}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),n(t,[{key:"processJob_",value:function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}},{key:"push",value:function(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}]),t}();t.default=o,e.exports=t.default},"./node_modules/aes-decrypter/es5/decrypter.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var g=r(i("./node_modules/aes-decrypter/es5/aes.js")),d=r(i("./node_modules/aes-decrypter/es5/async-stream.js")),l=i("./node_modules/pkcs7/lib/pkcs7.js"),y=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},a=function(e,t,i){var n=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),r=new g.default(Array.prototype.slice.call(t)),a=new Uint8Array(e.byteLength),s=new Int32Array(a.buffer),o=void 0,u=void 0,d=void 0,l=void 0,c=void 0,h=void 0,f=void 0,p=void 0,m=void 0;for(o=i[0],u=i[1],d=i[2],l=i[3],m=0;m<n.length;m+=4)c=y(n[m]),h=y(n[m+1]),f=y(n[m+2]),p=y(n[m+3]),r.decrypt(c,h,f,p,s,m),s[m]=y(s[m]^o),s[m+1]=y(s[m+1]^u),s[m+2]=y(s[m+2]^d),s[m+3]=y(s[m+3]^l),o=c,u=h,d=f,l=p;return a};t.decrypt=a;var s=function(){function u(e,t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var r=u.STEP,a=new Int32Array(e.buffer),s=new Uint8Array(e.byteLength),o=0;for(this.asyncStream_=new d.default,this.asyncStream_.push(this.decryptChunk_(a.subarray(o,o+r),t,i,s)),o=r;o<a.length;o+=r)i=new Uint32Array([y(a[o-4]),y(a[o-3]),y(a[o-2]),y(a[o-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(o,o+r),t,i,s));this.asyncStream_.push(function(){n(null,(0,l.unpad)(s))})}return n(u,[{key:"decryptChunk_",value:function(t,i,n,r){return function(){var e=a(t,i,n);r.set(e,t.byteOffset)}}}],[{key:"STEP",get:function(){return 32e3}}]),u}();t.Decrypter=s,t.default={Decrypter:s,decrypt:a}},"./node_modules/aes-decrypter/es5/index.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i("./node_modules/aes-decrypter/es5/decrypter.js"),a=i("./node_modules/aes-decrypter/es5/async-stream.js"),s=(n=a)&&n.__esModule?n:{default:n};t.default={decrypt:r.decrypt,Decrypter:r.Decrypter,AsyncStream:s.default},e.exports=t.default},"./node_modules/aes-decrypter/es5/stream.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={}}return n(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var i;return!!this.listeners[e]&&(i=this.listeners[e].indexOf(t),this.listeners[e].splice(i,1),-1<i)}},{key:"trigger",value:function(e){var t=void 0,i=void 0,n=void 0,r=void 0;if(t=this.listeners[e])if(2===arguments.length)for(n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),n=t.length,i=0;i<n;++i)t[i].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),e}();t.default=r,e.exports=t.default},"./node_modules/global/document.js":function(r,e,a){(function(e){var t,i=void 0!==e?e:"undefined"!=typeof window?window:{},n=a(20);"undefined"!=typeof document?t=document:(t=i["__GLOBAL_DOCUMENT_CACHE@4"])||(t=i["__GLOBAL_DOCUMENT_CACHE@4"]=n),r.exports=t}).call(this,a("./node_modules/webpack/buildin/global.js"))},"./node_modules/m3u8-parser/es5/index.js":function(e,t,i){"use strict";var n=s(i("./node_modules/m3u8-parser/es5/line-stream.js")),r=s(i("./node_modules/m3u8-parser/es5/parse-stream.js")),a=s(i("./node_modules/m3u8-parser/es5/parser.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={LineStream:n.default,ParseStream:r.default,Parser:a.default}},"./node_modules/m3u8-parser/es5/line-stream.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),a=i("./node_modules/m3u8-parser/es5/stream.js"),s=(n=a)&&n.__esModule?n:{default:n};var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.buffer="",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),r(t,[{key:"push",value:function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");-1<t;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}]),t}();t.default=o},"./node_modules/m3u8-parser/es5/parse-stream.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),a=i("./node_modules/m3u8-parser/es5/stream.js"),s=(n=a)&&n.__esModule?n:{default:n};var c=function(e){for(var t=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},n=t.length,r=void 0;n--;)""!==t[n]&&((r=/([^=]*)=(.*)/.exec(t[n]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),i[r[0]]=r[1]);return i},o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),r(t,[{key:"push",value:function(e){var t=void 0,i=void 0;if(0!==(e=e.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===e[0])if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e))return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void this.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"totalduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void this.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e))return i={type:"tag",tagType:"byterange"},t[1]&&(i.length=parseInt(t[1],10)),t[2]&&(i.offset=parseInt(t[2],10)),void this.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-MAP:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"map"},t[1]){var n=c(t[1]);if(n.URI&&(i.uri=n.URI),n.BYTERANGE){var r=n.BYTERANGE.split("@"),a=l(r,2),s=a[0],o=a[1];i.byterange={},s&&(i.byterange.length=parseInt(s,10)),o&&(i.byterange.offset=parseInt(o,10))}}this.trigger("data",i)}else if(t=/^#EXT-X-STREAM-INF:?(.*)$/.exec(e)){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=c(t[1]),i.attributes.RESOLUTION){var u=i.attributes.RESOLUTION.split("x"),d={};u[0]&&(d.width=parseInt(u[0],10)),u[1]&&(d.height=parseInt(u[1],10)),i.attributes.RESOLUTION=d}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}this.trigger("data",i)}else{if(t=/^#EXT-X-MEDIA:?(.*)$/.exec(e))return i={type:"tag",tagType:"media"},t[1]&&(i.attributes=c(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-ENDLIST/.exec(e))this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e))return i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-KEY:?(.*)$/.exec(e))return i={type:"tag",tagType:"key"},t[1]&&(i.attributes=c(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(e))return i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);this.trigger("data",{type:"tag",data:e.slice(4)})}}}else this.trigger("data",{type:"comment",text:e.slice(1)});else this.trigger("data",{type:"uri",uri:e})}}]),t}();t.default=o},"./node_modules/m3u8-parser/es5/parser.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),r=a(i("./node_modules/m3u8-parser/es5/stream.js")),h=a(i("./node_modules/m3u8-parser/es5/line-stream.js")),f=a(i("./node_modules/m3u8-parser/es5/parse-stream.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.lineStream=new h.default,e.parseStream=new f.default,e.lineStream.pipe(e.parseStream);var r=e,a=[],s={},o=void 0,u=void 0,d={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},l=0;return e.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},e.parseStream.on("data",function(t){var i=void 0,n=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&((s.byterange=e).length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&((s.byterange=e).offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),0<t.duration&&(s.duration=t.duration),0===t.duration&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){t.attributes?"NONE"!==t.attributes.METHOD?t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),u={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(u.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):u=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,l=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){o={},t.uri&&(o.uri=t.uri),t.byterange&&(o.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||d,t.attributes?(s.attributes||(s.attributes={}),c(s.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||d,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var e=this.manifest.mediaGroups[t.attributes.TYPE];e[t.attributes["GROUP-ID"]]=e[t.attributes["GROUP-ID"]]||{},i=e[t.attributes["GROUP-ID"]],(n={default:/yes/i.test(t.attributes.DEFAULT)}).default?n.autoselect=!0:n.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(n.language=t.attributes.LANGUAGE),t.attributes.URI&&(n.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(n.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(n.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(n.forced=/yes/i.test(t.attributes.FORCED)),i[t.attributes.NAME]=n}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){l+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},"cue-out":function(){s.cueOut=t.data},"cue-out-cont":function(){s.cueOutCont=t.data},"cue-in":function(){s.cueIn=t.data}}[t.tagType]||function(){}).call(r)},uri:function(){s.uri=t.uri,a.push(s),!this.manifest.targetDuration||"duration"in s||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),u&&(s.key=u),s.timeline=l,o&&(s.map=o),s={}},comment:function(){}})[t.type].call(r)}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["default"]),n(t,[{key:"push",value:function(e){this.lineStream.push(e)}},{key:"end",value:function(){this.lineStream.push("\n")}}]),t}();t.default=s},"./node_modules/m3u8-parser/es5/stream.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.listeners={}}return n(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e].splice(i,1),-1<i}},{key:"trigger",value:function(e){var t=this.listeners[e],i=void 0,n=void 0,r=void 0;if(t)if(2===arguments.length)for(n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else for(r=Array.prototype.slice.call(arguments,1),n=t.length,i=0;i<n;++i)t[i].apply(this,r)}},{key:"dispose",value:function(){this.listeners={}}},{key:"pipe",value:function(t){this.on("data",function(e){t.push(e)})}}]),e}();t.default=r},"./node_modules/mux.js/lib/aac/index.js":function(e,t,i){"use strict";var n,r=i("./node_modules/mux.js/lib/utils/stream.js");(n=function(){var o=new Uint8Array,u=0;n.prototype.init.call(this),this.setTimestamp=function(e){u=e},this.parseId3TagSize=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?i+20:i+10},this.parseAdtsSize=function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i},this.push=function(e){var t,i,n,r,a=0,s=0;for(o.length?(r=o.length,(o=new Uint8Array(e.byteLength+r)).set(o.subarray(0,r)),o.set(e,r)):o=e;3<=o.length-s;)if(o[s]!=="I".charCodeAt(0)||o[s+1]!=="D".charCodeAt(0)||o[s+2]!=="3".charCodeAt(0))if(!0&o[s]&&240==(240&o[s+1])){if(o.length-s<7)break;if((a=this.parseAdtsSize(o,s))>o.length)break;n={type:"audio",data:o.subarray(s,s+a),pts:u,dts:u},this.trigger("data",n),s+=a}else s++;else{if(o.length-s<10)break;if((a=this.parseId3TagSize(o,s))>o.length)break;i={type:"timed-metadata",data:o.subarray(s,s+a)},this.trigger("data",i),s+=a}t=o.length-s,o=0<t?o.subarray(s):new Uint8Array}}).prototype=new r,e.exports=n},"./node_modules/mux.js/lib/aac/probe.js":function(e,t,i){"use strict";var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],o=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]};e.exports={parseId3TagSize:function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&e[t+5])>>4?i+20:i+10},parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return n[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i,n;t=10,64&e[5]&&(t+=4,t+=o(e.subarray(10,14)));do{if((i=o(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+i+10);for(var r=0;r<n.byteLength;r++)if(0===n[r]){if("com.apple.streaming.transportStreamTimestamp"!==unescape(function(e,t,i){var n,r="";for(n=t;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r}(n,0,r)))break;var a=n.subarray(r+1),s=(1&a[3])<<30|a[4]<<22|a[5]<<14|a[6]<<6|a[7]>>>2;return s*=4,s+=3&a[7]}}t+=10,t+=i}while(t<e.byteLength);return null}}},"./node_modules/mux.js/lib/codecs/adts.js":function(e,t,i){"use strict";var n,r=i("./node_modules/mux.js/lib/utils/stream.js"),l=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(n=function(){var d;n.prototype.init.call(this),this.push=function(e){var t,i,n,r,a,s,o=0,u=0;if("audio"===e.type)for(d?(r=d,(d=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),d.set(e.data,r.byteLength)):d=e.data;o+5<d.length;)if(255===d[o]&&240==(246&d[o+1])){if(i=2*(1&~d[o+1]),t=(3&d[o+3])<<11|d[o+4]<<3|(224&d[o+5])>>5,s=9e4*(a=1024*(1+(3&d[o+6])))/l[(60&d[o+2])>>>2],n=o+t,d.byteLength<n)return;if(this.trigger("data",{pts:e.pts+u*s,dts:e.dts+u*s,sampleCount:a,audioobjecttype:1+(d[o+2]>>>6&3),channelcount:(1&d[o+2])<<2|(192&d[o+3])>>>6,samplerate:l[(60&d[o+2])>>>2],samplingfrequencyindex:(60&d[o+2])>>>2,samplesize:16,data:d.subarray(o+7+i,n)}),d.byteLength===n)return void(d=void 0);u++,d=d.subarray(n)}else o++},this.flush=function(){this.trigger("done")}}).prototype=new r,e.exports=n},"./node_modules/mux.js/lib/codecs/h264.js":function(e,t,i){"use strict";var u,d,b,n=i("./node_modules/mux.js/lib/utils/stream.js"),T=i("./node_modules/mux.js/lib/utils/exp-golomb.js");(d=function(){var i,n,r=0;d.prototype.init.call(this),this.push=function(e){var t;for(n=n?((t=new Uint8Array(n.byteLength+e.data.byteLength)).set(n),t.set(e.data,n.byteLength),t):e.data;r<n.byteLength-3;r++)if(1===n[r+2]){i=r+5;break}for(;i<n.byteLength;)switch(n[i]){case 0:if(0!==n[i-1]){i+=2;break}if(0!==n[i-2]){i++;break}for(r+3!==i-2&&this.trigger("data",n.subarray(r+3,i-2));1!==n[++i]&&i<n.length;);r=i-2,i+=3;break;case 1:if(0!==n[i-1]||0!==n[i-2]){i+=3;break}this.trigger("data",n.subarray(r+3,i-2)),r=i-2,i+=3;break;default:i+=3}n=n.subarray(r),i-=r,r=0},this.flush=function(){n&&3<n.byteLength&&this.trigger("data",n.subarray(r+3)),n=null,r=0,this.trigger("done")}}).prototype=new n,b={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(u=function(){var i,n,r,a,s,o,_,t=new d;u.prototype.init.call(this),(i=this).push=function(e){"video"===e.type&&(n=e.trackId,r=e.pts,a=e.dts,t.push(e))},t.on("data",function(e){var t={trackId:n,pts:r,dts:a,data:e};switch(31&e[0]){case 5:t.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:t.nalUnitType="sei_rbsp",t.escapedRBSP=s(e.subarray(1));break;case 7:t.nalUnitType="seq_parameter_set_rbsp",t.escapedRBSP=s(e.subarray(1)),t.config=o(t.escapedRBSP);break;case 8:t.nalUnitType="pic_parameter_set_rbsp";break;case 9:t.nalUnitType="access_unit_delimiter_rbsp"}i.trigger("data",t)}),t.on("done",function(){i.trigger("done")}),this.flush=function(){t.flush()},_=function(e,t){var i,n=8,r=8;for(i=0;i<e;i++)0!==r&&(r=(n+t.readExpGolomb()+256)%256),n=0===r?n:r},s=function(e){for(var t,i,n=e.byteLength,r=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var s=0;for(a=0;a<t;s++,a++)s===r[0]&&(s++,r.shift()),i[a]=e[s];return i},o=function(e){var t,i,n,r,a,s,o,u,d,l,c,h,f,p=0,m=0,g=0,y=0,v=1;if(i=(t=new T(e)).readUnsignedByte(),r=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),b[i]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(c=3!==a?8:12,f=0;f<c;f++)t.readBoolean()&&_(f<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(s=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===s)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),o=t.readUnsignedExpGolomb(),f=0;f<o;f++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),u=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb(),0===(l=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(p=t.readUnsignedExpGolomb(),m=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:h=[1,1];break;case 2:h=[12,11];break;case 3:h=[10,11];break;case 4:h=[16,11];break;case 5:h=[40,33];break;case 6:h=[24,11];break;case 7:h=[20,11];break;case 8:h=[32,11];break;case 9:h=[80,33];break;case 10:h=[18,11];break;case 11:h=[15,11];break;case 12:h=[64,33];break;case 13:h=[160,99];break;case 14:h=[4,3];break;case 15:h=[3,2];break;case 16:h=[2,1];break;case 255:h=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}h&&(v=h[0]/h[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:Math.ceil((16*(u+1)-2*p-2*m)*v),height:(2-l)*(d+1)*16-2*g-2*y}}}).prototype=new n,e.exports={H264Stream:u,NalByteStream:d}},"./node_modules/mux.js/lib/data/silence.js":function(e,t){var i,n=[33,16,5,32,164,27],r=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],a=function(e){for(var t=[];e--;)t.push(0);return t},s={96e3:[n,[227,64],a(154),[56]],88200:[n,[231],a(170),[56]],64e3:[n,[248,192],a(240),[56]],48e3:[n,[255,192],a(268),[55,148,128],a(54),[112]],44100:[n,[255,192],a(268),[55,163,128],a(84),[112]],32e3:[n,[255,192],a(268),[55,234],a(226),[112]],24e3:[n,[255,192],a(268),[55,255,128],a(268),[111,112],a(126),[224]],16e3:[n,[255,192],a(268),[55,255,128],a(268),[111,255],a(269),[223,108],a(195),[1,192]],12e3:[r,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,253,128],a(259),[56]],11025:[r,a(268),[3,127,248],a(268),[6,255,240],a(268),[13,255,224],a(268),[27,255,192],a(268),[55,175,128],a(108),[112]],8e3:[r,a(268),[3,121,16],a(47),[7]]};e.exports=(i=s,Object.keys(i).reduce(function(e,t){return e[t]=new Uint8Array(i[t].reduce(function(e,t){return e.concat(t)},[])),e},{}))},"./node_modules/mux.js/lib/flv/coalesce-stream.js":function(e,t,i){"use strict";var n=i("./node_modules/mux.js/lib/utils/stream.js"),r=function(e){this.numberOfTracks=0,this.metadataStream=e.metadataStream,this.videoTags=[],this.audioTags=[],this.videoTrack=null,this.audioTrack=null,this.pendingCaptions=[],this.pendingMetadata=[],this.pendingTracks=0,this.processedTracks=0,r.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):("video"===e.track.type&&(this.videoTrack=e.track,this.videoTags=e.tags,this.pendingTracks++),void("audio"===e.track.type&&(this.audioTrack=e.track,this.audioTags=e.tags,this.pendingTracks++)))}};r.prototype=new n,r.prototype.flush=function(e){var t,i,n,r,a={tags:{},captions:[],captionStreams:{},metadata:[]};if(this.pendingTracks<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(0===this.pendingTracks&&(this.processedTracks++,this.processedTracks<this.numberOfTracks))return}if(this.processedTracks+=this.pendingTracks,this.pendingTracks=0,!(this.processedTracks<this.numberOfTracks)){for(this.videoTrack?r=this.videoTrack.timelineStartInfo.pts:this.audioTrack&&(r=this.audioTrack.timelineStartInfo.pts),a.tags.videoTags=this.videoTags,a.tags.audioTags=this.audioTags,n=0;n<this.pendingCaptions.length;n++)(i=this.pendingCaptions[n]).startTime=i.startPts-r,i.startTime/=9e4,i.endTime=i.endPts-r,i.endTime/=9e4,a.captionStreams[i.stream]=!0,a.captions.push(i);for(n=0;n<this.pendingMetadata.length;n++)(t=this.pendingMetadata[n]).cueTime=t.pts-r,t.cueTime/=9e4,a.metadata.push(t);a.metadata.dispatchType=this.metadataStream.dispatchType,this.videoTrack=null,this.audioTrack=null,this.videoTags=[],this.audioTags=[],this.pendingCaptions.length=0,this.pendingMetadata.length=0,this.pendingTracks=0,this.processedTracks=0,this.trigger("data",a),this.trigger("done")}},e.exports=r},"./node_modules/mux.js/lib/flv/flv-header.js":function(e,t,i){"use strict";var u=i("./node_modules/mux.js/lib/flv/flv-tag.js");e.exports=function(e,t,i){var n,r,a,s=new Uint8Array(9),o=new DataView(s.buffer);return e=e||0,t=void 0===t||t,i=void 0===i||i,o.setUint8(0,70),o.setUint8(1,76),o.setUint8(2,86),o.setUint8(3,1),o.setUint8(4,(t?4:0)|(i?1:0)),o.setUint32(5,s.byteLength),e<=0?((r=new Uint8Array(s.byteLength+4)).set(s),r.set([0,0,0,0],s.byteLength)):((n=new u(u.METADATA_TAG)).pts=n.dts=0,n.writeMetaDataDouble("duration",e),a=n.finalize().length,(r=new Uint8Array(s.byteLength+a)).set(s),r.set(o.byteLength,a)),r}},"./node_modules/mux.js/lib/flv/flv-tag.js":function(e,t,i){"use strict";var d;(d=function(e,i){var t,n=0,r=16384,a=function(e,t){var i,n=e.position+t;n<e.bytes.byteLength||((i=new Uint8Array(2*n)).set(e.bytes.subarray(0,e.position),0),e.bytes=i,e.view=new DataView(e.bytes.buffer))},s=d.widthBytes||new Uint8Array("width".length),o=d.heightBytes||new Uint8Array("height".length),u=d.videocodecidBytes||new Uint8Array("videocodecid".length);if(!d.widthBytes){for(t=0;t<"width".length;t++)s[t]="width".charCodeAt(t);for(t=0;t<"height".length;t++)o[t]="height".charCodeAt(t);for(t=0;t<"videocodecid".length;t++)u[t]="videocodecid".charCodeAt(t);d.widthBytes=s,d.heightBytes=o,d.videocodecidBytes=u}switch(this.keyFrame=!1,e){case d.VIDEO_TAG:this.length=16,r*=6;break;case d.AUDIO_TAG:this.length=13,this.keyFrame=!0;break;case d.METADATA_TAG:this.length=29,this.keyFrame=!0;break;default:throw new Error("Unknown FLV tag type")}this.bytes=new Uint8Array(r),this.view=new DataView(this.bytes.buffer),this.bytes[0]=e,this.position=this.length,this.keyFrame=i,this.pts=0,this.dts=0,this.writeBytes=function(e,t,i){var n,r=t||0;n=r+(i=i||e.byteLength),a(this,i),this.bytes.set(e.subarray(r,n),this.position),this.position+=i,this.length=Math.max(this.length,this.position)},this.writeByte=function(e){a(this,1),this.bytes[this.position]=e,this.position++,this.length=Math.max(this.length,this.position)},this.writeShort=function(e){a(this,2),this.view.setUint16(this.position,e),this.position+=2,this.length=Math.max(this.length,this.position)},this.negIndex=function(e){return this.bytes[this.length-e]},this.nalUnitSize=function(){return 0===n?0:this.length-(n+4)},this.startNalUnit=function(){if(0<n)throw new Error("Attempted to create new NAL wihout closing the old one");n=this.length,this.length+=4,this.position=this.length},this.endNalUnit=function(e){var t,i;this.length===n+4?this.length-=4:0<n&&(t=n+4,i=this.length-t,this.position=n,this.view.setUint32(this.position,i),this.position=this.length,e&&e.push(this.bytes.subarray(t,t+i))),n=0},this.writeMetaDataDouble=function(e,t){var i;if(a(this,2+e.length+9),this.view.setUint16(this.position,e.length),this.position+=2,"width"===e)this.bytes.set(s,this.position),this.position+=5;else if("height"===e)this.bytes.set(o,this.position),this.position+=6;else if("videocodecid"===e)this.bytes.set(u,this.position),this.position+=12;else for(i=0;i<e.length;i++)this.bytes[this.position]=e.charCodeAt(i),this.position++;this.position++,this.view.setFloat64(this.position,t),this.position+=8,this.length=Math.max(this.length,this.position),++n},this.writeMetaDataBoolean=function(e,t){var i;for(a(this,2),this.view.setUint16(this.position,e.length),this.position+=2,i=0;i<e.length;i++)a(this,1),this.bytes[this.position]=e.charCodeAt(i),this.position++;a(this,2),this.view.setUint8(this.position,1),this.position++,this.view.setUint8(this.position,t?1:0),this.position++,this.length=Math.max(this.length,this.position),++n},this.finalize=function(){var e,t;switch(this.bytes[0]){case d.VIDEO_TAG:this.bytes[11]=7|(this.keyFrame||i?16:32),this.bytes[12]=i?0:1,e=this.pts-this.dts,this.bytes[13]=(16711680&e)>>>16,this.bytes[14]=(65280&e)>>>8,this.bytes[15]=(255&e)>>>0;break;case d.AUDIO_TAG:this.bytes[11]=175,this.bytes[12]=i?0:1;break;case d.METADATA_TAG:this.position=11,this.view.setUint8(this.position,2),this.position++,this.view.setUint16(this.position,10),this.position+=2,this.bytes.set([111,110,77,101,116,97,68,97,116,97],this.position),this.position+=10,this.bytes[this.position]=8,this.position++,this.view.setUint32(this.position,n),this.position=this.length,this.bytes.set([0,0,9],this.position),this.position+=3,this.length=this.position}return t=this.length-11,this.bytes[1]=(16711680&t)>>>16,this.bytes[2]=(65280&t)>>>8,this.bytes[3]=(255&t)>>>0,this.bytes[4]=(16711680&this.dts)>>>16,this.bytes[5]=(65280&this.dts)>>>8,this.bytes[6]=(255&this.dts)>>>0,this.bytes[7]=(4278190080&this.dts)>>>24,this.bytes[8]=0,this.bytes[9]=0,this.bytes[10]=0,a(this,4),this.view.setUint32(this.length,this.length),this.length+=4,this.position+=4,this.bytes=this.bytes.subarray(0,this.length),this.frameTime=d.frameTime(this.bytes),this}}).AUDIO_TAG=8,d.VIDEO_TAG=9,d.METADATA_TAG=18,d.isAudioFrame=function(e){return d.AUDIO_TAG===e[0]},d.isVideoFrame=function(e){return d.VIDEO_TAG===e[0]},d.isMetaData=function(e){return d.METADATA_TAG===e[0]},d.isKeyFrame=function(e){return d.isVideoFrame(e)?23===e[11]:!!d.isAudioFrame(e)||!!d.isMetaData(e)},d.frameTime=function(e){var t=e[4]<<16;return t|=e[5]<<8,t|=e[6]<<0,t|=e[7]<<24},e.exports=d},"./node_modules/mux.js/lib/flv/index.js":function(e,t,i){e.exports={tag:i("./node_modules/mux.js/lib/flv/flv-tag.js"),Transmuxer:i("./node_modules/mux.js/lib/flv/transmuxer.js"),getFlvHeader:i("./node_modules/mux.js/lib/flv/flv-header.js")}},"./node_modules/mux.js/lib/flv/tag-list.js":function(e,t,i){"use strict";e.exports=function(){var e=this;this.list=[],this.push=function(e){this.list.push({bytes:e.bytes,dts:e.dts,pts:e.pts,keyFrame:e.keyFrame,metaDataTag:e.metaDataTag})},Object.defineProperty(this,"length",{get:function(){return e.list.length}})}},"./node_modules/mux.js/lib/flv/transmuxer.js":function(e,t,i){"use strict";var p,m,g,n,o,u,r=i("./node_modules/mux.js/lib/utils/stream.js"),d=i("./node_modules/mux.js/lib/flv/flv-tag.js"),y=i("./node_modules/mux.js/lib/m2ts/m2ts.js"),v=i("./node_modules/mux.js/lib/codecs/adts.js"),_=i("./node_modules/mux.js/lib/codecs/h264.js").H264Stream,b=i("./node_modules/mux.js/lib/flv/coalesce-stream.js"),l=i("./node_modules/mux.js/lib/flv/tag-list.js");n=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts?e.timelineStartInfo.pts=t.pts:e.timelineStartInfo.pts=Math.min(e.timelineStartInfo.pts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts?e.timelineStartInfo.dts=t.dts:e.timelineStartInfo.dts=Math.min(e.timelineStartInfo.dts,t.dts))},o=function(e,t){var i=new d(d.METADATA_TAG);return i.dts=t,i.pts=t,i.writeMetaDataDouble("videocodecid",7),i.writeMetaDataDouble("width",e.width),i.writeMetaDataDouble("height",e.height),i},u=function(e,t){var i,n=new d(d.VIDEO_TAG,!0);for(n.dts=t,n.pts=t,n.writeByte(1),n.writeByte(e.profileIdc),n.writeByte(e.profileCompatibility),n.writeByte(e.levelIdc),n.writeByte(255),n.writeByte(225),n.writeShort(e.sps[0].length),n.writeBytes(e.sps[0]),n.writeByte(e.pps.length),i=0;i<e.pps.length;++i)n.writeShort(e.pps[i].length),n.writeBytes(e.pps[i]);return n},(g=function(r){var a,s=[],o=[];g.prototype.init.call(this),this.push=function(e){n(r,e),r&&(r.audioobjecttype=e.audioobjecttype,r.channelcount=e.channelcount,r.samplerate=e.samplerate,r.samplingfrequencyindex=e.samplingfrequencyindex,r.samplesize=e.samplesize,r.extraData=r.audioobjecttype<<11|r.samplingfrequencyindex<<7|r.channelcount<<3),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),s.push(e)},this.flush=function(){var e,t,i,n=new l;if(0!==s.length){for(i=-1/0;s.length;)e=s.shift(),o.length&&e.pts>=o[0]&&(i=o.shift(),this.writeMetaDataTags(n,i)),(r.extraData!==a||1e3<=e.pts-i)&&(this.writeMetaDataTags(n,e.pts),a=r.extraData,i=e.pts),(t=new d(d.AUDIO_TAG)).pts=e.pts,t.dts=e.dts,t.writeBytes(e.data),n.push(t.finalize());o.length=0,a=null,this.trigger("data",{track:r,tags:n.list}),this.trigger("done","AudioSegmentStream")}else this.trigger("done","AudioSegmentStream")},this.writeMetaDataTags=function(e,t){var i;(i=new d(d.METADATA_TAG)).pts=t,i.dts=t,i.writeMetaDataDouble("audiocodecid",10),i.writeMetaDataBoolean("stereo",2===r.channelcount),i.writeMetaDataDouble("audiosamplerate",r.samplerate),i.writeMetaDataDouble("audiosamplesize",16),e.push(i.finalize()),(i=new d(d.AUDIO_TAG,!0)).pts=t,i.dts=t,i.view.setUint16(i.position,r.extraData),i.position+=2,i.length=Math.max(i.length,i.position),e.push(i.finalize())},this.onVideoKeyFrame=function(e){o.push(e)}}).prototype=new r,(m=function(r){var a,s,i=[];m.prototype.init.call(this),this.finishFrame=function(e,t){if(t){if(a&&r&&r.newMetadata&&(t.keyFrame||0===e.length)){var i=o(a,t.dts).finalize(),n=u(r,t.dts).finalize();i.metaDataTag=n.metaDataTag=!0,e.push(i),e.push(n),r.newMetadata=!1,this.trigger("keyframe",t.dts)}t.endNalUnit(),e.push(t.finalize()),s=null}},this.push=function(e){n(r,e),e.pts=Math.round(e.pts/90),e.dts=Math.round(e.dts/90),i.push(e)},this.flush=function(){for(var e,t=new l;i.length&&"access_unit_delimiter_rbsp"!==i[0].nalUnitType;)i.shift();if(0!==i.length){for(;i.length;)"seq_parameter_set_rbsp"===(e=i.shift()).nalUnitType?(r.newMetadata=!0,a=e.config,r.width=a.width,r.height=a.height,r.sps=[e.data],r.profileIdc=a.profileIdc,r.levelIdc=a.levelIdc,r.profileCompatibility=a.profileCompatibility,s.endNalUnit()):"pic_parameter_set_rbsp"===e.nalUnitType?(r.newMetadata=!0,r.pps=[e.data],s.endNalUnit()):"access_unit_delimiter_rbsp"===e.nalUnitType?(s&&this.finishFrame(t,s),(s=new d(d.VIDEO_TAG)).pts=e.pts,s.dts=e.dts):("slice_layer_without_partitioning_rbsp_idr"===e.nalUnitType&&(s.keyFrame=!0),s.endNalUnit()),s.startNalUnit(),s.writeBytes(e.data);s&&this.finishFrame(t,s),this.trigger("data",{track:r,tags:t.list}),this.trigger("done","VideoSegmentStream")}else this.trigger("done","VideoSegmentStream")}}).prototype=new r,(p=function(e){var t,i,n,r,a,s,o,u,d,l,c,h,f=this;p.prototype.init.call(this),e=e||{},this.metadataStream=new y.MetadataStream,e.metadataStream=this.metadataStream,t=new y.TransportPacketStream,i=new y.TransportParseStream,n=new y.ElementaryStream,r=new y.TimestampRolloverStream("video"),a=new y.TimestampRolloverStream("audio"),s=new y.TimestampRolloverStream("timed-metadata"),o=new v,u=new _,h=new b(e),t.pipe(i).pipe(n),n.pipe(r).pipe(u),n.pipe(a).pipe(o),n.pipe(s).pipe(this.metadataStream).pipe(h),c=new y.CaptionStream,u.pipe(c).pipe(h),n.on("data",function(e){var t,i,n;if("metadata"===e.type){for(t=e.tracks.length;t--;)"video"===e.tracks[t].type?i=e.tracks[t]:"audio"===e.tracks[t].type&&(n=e.tracks[t]);i&&!d&&(h.numberOfTracks++,d=new m(i),u.pipe(d).pipe(h)),n&&!l&&(h.numberOfTracks++,l=new g(n),o.pipe(l).pipe(h),d&&d.on("keyframe",l.onVideoKeyFrame))}}),this.push=function(e){t.push(e)},this.flush=function(){t.flush()},this.resetCaptions=function(){c.reset()},h.on("data",function(e){f.trigger("data",e)}),h.on("done",function(){f.trigger("done")})}).prototype=new r,e.exports=p},"./node_modules/mux.js/lib/m2ts/caption-stream.js":function(e,t,i){"use strict";var n=i("./node_modules/mux.js/lib/utils/stream.js"),r=function(){r.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new s(0,0),new s(0,1),new s(1,0),new s(1,1)],this.reset(),this.ccStreams_.forEach(function(e){e.on("data",this.trigger.bind(this,"data")),e.on("done",this.trigger.bind(this,"done"))},this)};r.prototype=new n,r.prototype.push=function(e){var t,i,n;"sei_rbsp"===e.nalUnitType&&(4===(t=function(e){for(var t=0,i={payloadType:-1,payloadSize:0},n=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!i.payload&&4===n){i.payloadType=n,i.payloadSize=r,i.payload=e.subarray(t,t+r);break}t+=r,r=n=0}return i}(e.escapedRBSP)).payloadType&&(i=181!==(n=t).payload[0]?null:49!=(n.payload[1]<<8|n.payload[2])?null:"GA94"!==String.fromCharCode(n.payload[3],n.payload[4],n.payload[5],n.payload[6])?null:3!==n.payload[7]?null:n.payload.subarray(8,n.payload.length-1))&&(e.dts<this.latestDts_?this.ignoreNextEqualDts_=!0:e.dts===this.latestDts_&&this.ignoreNextEqualDts_?this.ignoreNextEqualDts_=!1:(this.captionPackets_=this.captionPackets_.concat(function(e,t){var i,n,r,a,s=[];if(!(64&t[0]))return s;for(n=31&t[0],i=0;i<n;i++)a={type:3&t[2+(r=3*i)],pts:e},4&t[r+2]&&(a.ccData=t[r+3]<<8|t[r+4],s.push(a));return s}(e.pts,i)),this.latestDts_=e.dts)))},r.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(e,t){e.presortIndex=t}),this.captionPackets_.sort(function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts}),this.captionPackets_.forEach(function(e){e.type<2&&this.dispatchCea608Packet(e)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(e){e.flush()},this)):this.ccStreams_.forEach(function(e){e.flush()},this)},r.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(e){e.reset()})},r.prototype.dispatchCea608Packet=function(e){this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},r.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},r.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)};var a={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},o=function(e){return null===e?"":(e=a[e]||e,String.fromCharCode(e))},u=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],d=function(){for(var e=[],t=15;t--;)e.push("");return e},s=function(e,t){s.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,r,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.topRow_=13,this.mode_="rollUp";else if(t===this.ROLL_UP_3_ROWS_)this.topRow_=12,this.mode_="rollUp";else if(t===this.ROLL_UP_4_ROWS_)this.topRow_=11,this.mode_="rollUp";else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[14]=this.nonDisplayed_[14].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=d();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=d();else if(t===this.RESUME_DIRECT_CAPTIONING_)this.mode_="paintOn";else if(this.isSpecialCharacter(n,r))a=o((n=(3&n)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[14]=this.displayed_[14].slice(0,-1),a=o((n=(3&n)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r))this.column_+=3&r;else if(this.isPAC(n,r)){var s=u.indexOf(7968&t);s!==this.row_&&(this.clearFormatting(e.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)&&(this.column_=4*((14&t)>>1)),this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),a=o(n),a+=o(r),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};s.prototype=new n,s.prototype.flushDisplayed=function(e){var t=this.displayed_.map(function(e){return e.trim()}).join("\n").replace(/^\n+|\n+$/g,"");t.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,text:t,stream:this.name_})},s.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=d(),this.nonDisplayed_=d(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.formatting_=[]},s.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},s.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&48<=t&&t<=63},s.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&32<=t&&t<=63},s.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&32<=t&&t<=47},s.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&33<=t&&t<=35},s.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&64<=t&&t<=127},s.prototype.isColorPAC=function(e){return 64<=e&&e<=79||96<=e&&e<=127},s.prototype.isNormalChar=function(e){return 32<=e&&e<=127},s.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce(function(e,t){return e+"<"+t+">"},"");this[this.mode_](e,i)},s.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce(function(e,t){return e+"</"+t+">"},"");this.formatting_=[],this[this.mode_](e,t)}},s.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_];i+=t,this.nonDisplayed_[this.row_]=i},s.prototype.rollUp=function(e,t){var i=this.displayed_[14];i+=t,this.displayed_[14]=i},s.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]="";for(e=this.topRow_;e<14;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[14]=""},s.prototype.paintOn=function(){},e.exports={CaptionStream:r,Cea608Stream:s}},"./node_modules/mux.js/lib/m2ts/m2ts.js":function(e,t,i){"use strict";var n,o,u,r=i("./node_modules/mux.js/lib/utils/stream.js"),a=i("./node_modules/mux.js/lib/m2ts/caption-stream.js"),d=i("./node_modules/mux.js/lib/m2ts/stream-types.js"),s=i("./node_modules/mux.js/lib/m2ts/timestamp-rollover-stream.js").TimestampRolloverStream,l=i("./node_modules/mux.js/lib/m2ts/stream-types.js");(n=function(){var r=new Uint8Array(188),a=0;n.prototype.init.call(this),this.push=function(e){var t,i=0,n=188;for(a?((t=new Uint8Array(e.byteLength+a)).set(r.subarray(0,a)),t.set(e,a),a=0):t=e;n<t.byteLength;)71!==t[i]||71!==t[n]?(i++,n++):(this.trigger("data",t.subarray(i,n)),i+=188,n+=188);i<t.byteLength&&(r.set(t.subarray(i),0),a=t.byteLength-i)},this.flush=function(){188===a&&71===r[0]&&(this.trigger("data",r),a=0),this.trigger("done")}}).prototype=new r,(o=function(){var n,r,a,s;o.prototype.init.call(this),(s=this).packetsWaitingForPmt=[],this.programMapTable=void 0,n=function(e,t){var i=0;t.payloadUnitStartIndicator&&(i+=e[i]+1),"pat"===t.type?r(e.subarray(i),t):a(e.subarray(i),t)},r=function(e,t){t.section_number=e[7],t.last_section_number=e[8],s.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=s.pmtPid},a=function(e,t){var i,n;if(1&e[5]){for(s.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,n=12+((15&e[10])<<8|e[11]);n<i;){var r=e[n],a=(31&e[n+1])<<8|e[n+2];r===d.H264_STREAM_TYPE&&null===s.programMapTable.video?s.programMapTable.video=a:r===d.ADTS_STREAM_TYPE&&null===s.programMapTable.audio?s.programMapTable.audio=a:r===d.METADATA_STREAM_TYPE&&(s.programMapTable["timed-metadata"][a]=r),n+=5+((15&e[n+3])<<8|e[n+4])}t.programMapTable=s.programMapTable}},this.push=function(e){var t={},i=4;if(t.payloadUnitStartIndicator=!!(64&e[1]),t.pid=31&e[1],t.pid<<=8,t.pid|=e[2],1<(48&e[3])>>>4&&(i+=e[i]+1),0===t.pid)t.type="pat",n(e.subarray(i),t),this.trigger("data",t);else if(t.pid===this.pmtPid)for(t.type="pmt",n(e.subarray(i),t),this.trigger("data",t);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,i,t]):this.processPes_(e,i,t)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=d.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=d.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}}).prototype=new r,o.STREAM_TYPES={h264:27,adts:15},(u=function(){var h=this,n={data:[],size:0},r={data:[],size:0},a={data:[],size:0},s=function(e,t,i){var n,r,a=new Uint8Array(e.size),s={type:t},o=0,u=0;if(e.data.length&&!(e.size<9)){for(s.trackId=e.data[0].pid,o=0;o<e.data.length;o++)r=e.data[o],a.set(r.data,u),u+=r.data.byteLength;var d,l,c;d=a,(l=s).packetLength=6+(d[4]<<8|d[5]),l.dataAlignmentIndicator=0!=(4&d[6]),192&(c=d[7])&&(l.pts=(14&d[9])<<27|(255&d[10])<<20|(254&d[11])<<12|(255&d[12])<<5|(254&d[13])>>>3,l.pts*=4,l.pts+=(6&d[13])>>>1,l.dts=l.pts,64&c&&(l.dts=(14&d[14])<<27|(255&d[15])<<20|(254&d[16])<<12|(255&d[17])<<5|(254&d[18])>>>3,l.dts*=4,l.dts+=(6&d[18])>>>1)),l.data=d.subarray(9+d[8]),n="video"===t||s.packetLength<=e.size,(i||n)&&(e.size=0,e.data.length=0),n&&h.trigger("data",s)}};u.prototype.init.call(this),this.push=function(i){({pat:function(){},pes:function(){var e,t;switch(i.streamType){case d.H264_STREAM_TYPE:case l.H264_STREAM_TYPE:e=n,t="video";break;case d.ADTS_STREAM_TYPE:e=r,t="audio";break;case d.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}i.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(i),e.size+=i.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},t=i.programMapTable;null!==t.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.video,codec:"avc",type:"video"}),null!==t.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+t.audio,codec:"adts",type:"audio"}),h.trigger("data",e)}})[i.type]()},this.flush=function(){s(n,"video"),s(r,"audio"),s(a,"timed-metadata"),this.trigger("done")}}).prototype=new r;var c={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:n,TransportParseStream:o,ElementaryStream:u,TimestampRolloverStream:s,CaptionStream:a.CaptionStream,Cea608Stream:a.Cea608Stream,MetadataStream:i("./node_modules/mux.js/lib/m2ts/metadata-stream.js")};for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h]);e.exports=c},"./node_modules/mux.js/lib/m2ts/metadata-stream.js":function(e,t,i){"use strict";var n,r=i("./node_modules/mux.js/lib/utils/stream.js"),a=i("./node_modules/mux.js/lib/m2ts/stream-types.js"),s=function(e,t,i){var n,r="";for(n=t;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r},o=function(e,t,i){return decodeURIComponent(s(e,t,i))},h=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},f={TXXX:function(e){var t;if(3===e.data[0]){for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=o(e.data,1,t),e.value=o(e.data,t+1,e.data.length).replace(/\0*$/,"");break}e.data=e.value}},WXXX:function(e){var t;if(3===e.data[0])for(t=1;t<e.data.length;t++)if(0===e.data[t]){e.description=o(e.data,1,t),e.url=o(e.data,t+1,e.data.length);break}},PRIV:function(e){var t,i;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=(i=e.data,unescape(s(i,0,t)));break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}};(n=function(e){var t,u={debug:!(!e||!e.debug),descriptor:e&&e.descriptor},d=0,l=[],c=0;if(n.prototype.init.call(this),this.dispatchType=a.METADATA_STREAM_TYPE.toString(16),u.descriptor)for(t=0;t<u.descriptor.length;t++)this.dispatchType+=("00"+u.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,n,r,a;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(c=0,l.length=0),0===l.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))u.debug&&console.log("Skipping unrecognized metadata packet");else if(l.push(e),c+=e.data.byteLength,1===l.length&&(d=h(e.data.subarray(6,10)),d+=10),!(c<d)){for(t={data:new Uint8Array(d),frames:[],pts:l[0].pts,dts:l[0].dts},a=0;a<d;)t.data.set(l[0].data.subarray(0,d-a),a),a+=l[0].data.byteLength,c-=l[0].data.byteLength,l.shift();i=10,64&t.data[5]&&(i+=4,i+=h(t.data.subarray(10,14)),d-=h(t.data.subarray(16,20)));do{if((n=h(t.data.subarray(i+4,i+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((r={id:String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),data:t.data.subarray(i+10,i+n+10)}).key=r.id,f[r.id]&&(f[r.id](r),"com.apple.streaming.transportStreamTimestamp"===r.owner)){var s=r.data,o=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;o*=4,o+=3&s[7],r.timeStamp=o,void 0===t.pts&&void 0===t.dts&&(t.pts=r.timeStamp,t.dts=r.timeStamp),this.trigger("timestamp",r)}t.frames.push(r),i+=10,i+=n}while(i<d);this.trigger("data",t)}}}).prototype=new r,e.exports=n},"./node_modules/mux.js/lib/m2ts/probe.js":function(e,t,i){"use strict";var n=i("./node_modules/mux.js/lib/m2ts/stream-types.js"),r=function(e){var t=31&e[1];return t<<=8,t|=e[2]},o=function(e){return!!(64&e[1])},u=function(e){var t=0;return 1<(48&e[3])>>>4&&(t+=e[4]+1),t},s=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};e.exports={parseType:function(e,t){var i=r(e);return 0===i?"pat":i===t?"pmt":t?"pes":null},parsePat:function(e){var t=o(e),i=4+u(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=o(e),n=4+u(e);if(i&&(n+=e[n]+1),1&e[n+5]){var r;r=3+((15&e[n+1])<<8|e[n+2])-4;for(var a=12+((15&e[n+10])<<8|e[n+11]);a<r;){var s=n+a;t[(31&e[s+1])<<8|e[s+2]]=e[s],a+=5+((15&e[s+3])<<8|e[s+4])}return t}},parsePayloadUnitStartIndicator:o,parsePesType:function(e,t){switch(t[r(e)]){case n.H264_STREAM_TYPE:return"video";case n.ADTS_STREAM_TYPE:return"audio";case n.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!o(e))return null;var t=4+u(e);if(t>=e.byteLength)return null;var i,n=null;return 192&(i=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+u(e),i=e.subarray(t),n=0,r=0,a=!1;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}for(r+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===s(31&i[r+3])&&(a=!0);1!==i[++n]&&n<i.length;);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===s(31&i[r+3])&&(a=!0),r=n-2,n+=3;break;default:n+=3}return i=i.subarray(r),n-=r,r=0,i&&3<i.byteLength&&"slice_layer_without_partitioning_rbsp_idr"===s(31&i[r+3])&&(a=!0),a}}},"./node_modules/mux.js/lib/m2ts/stream-types.js":function(e,t,i){"use strict";e.exports={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21}},"./node_modules/mux.js/lib/m2ts/timestamp-rollover-stream.js":function(e,t,i){"use strict";var n=i("./node_modules/mux.js/lib/utils/stream.js"),r=function(e,t){var i=1;for(t<e&&(i=-1);4294967296<Math.abs(t-e);)e+=8589934592*i;return e},a=function(e){var t,i;a.prototype.init.call(this),this.type_=e,this.push=function(e){e.type===this.type_&&(void 0===i&&(i=e.dts),e.dts=r(e.dts,i),e.pts=r(e.pts,i),t=e.dts,this.trigger("data",e))},this.flush=function(){i=t,this.trigger("done")},this.discontinuity=function(){t=i=void 0}};a.prototype=new n,e.exports={TimestampRolloverStream:a,handleRollover:r}},"./node_modules/mux.js/lib/mp4/index.js":function(e,t,i){e.exports={generator:i("./node_modules/mux.js/lib/mp4/mp4-generator.js"),Transmuxer:i("./node_modules/mux.js/lib/mp4/transmuxer.js").Transmuxer,AudioSegmentStream:i("./node_modules/mux.js/lib/mp4/transmuxer.js").AudioSegmentStream,VideoSegmentStream:i("./node_modules/mux.js/lib/mp4/transmuxer.js").VideoSegmentStream}},"./node_modules/mux.js/lib/mp4/mp4-generator.js":function(e,t,i){"use strict";var o,n,r,a,s,u,d,l,c,h,f,p,m,g,y,v,_,b,T,S,k,w,E,j,O,A,L,P,C,I,x,M,R,D,U,B,N,F,q,H,G,V=Math.pow(2,32)-1;!function(){var e;if(E={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in E)E.hasOwnProperty(e)&&(E[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);j=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),A=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),O=new Uint8Array([0,0,0,1]),L=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),P=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),C={video:L,audio:P},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),x=new Uint8Array([0,0,0,0,0,0,0,0]),R=new Uint8Array([0,0,0,0,0,0,0,0]),D=R,U=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),B=R,I=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),o=function(e){var t,i,n=[],r=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)r+=n[t].byteLength;for(i=new Uint8Array(r+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(e,4),t=0,r=8;t<n.length;t++)i.set(n[t],r),r+=n[t].byteLength;return i},n=function(){return o(E.dinf,o(E.dref,M))},r=function(e){return o(E.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},a=function(){return o(E.ftyp,j,O,j,A)},v=function(e){return o(E.hdlr,C[e])},s=function(e){return o(E.mdat,e)},y=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),o(E.mdhd,t)},g=function(e){return o(E.mdia,y(e),v(e.type),d(e))},u=function(e){return o(E.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},d=function(e){return o(E.minf,"video"===e.type?o(E.vmhd,I):o(E.smhd,x),n(),b(e))},l=function(e,t){for(var i=[],n=t.length;n--;)i[n]=S(t[n]);return o.apply(null,[E.moof,u(e)].concat(i))},c=function(e){for(var t=e.length,i=[];t--;)i[t]=p(e[t]);return o.apply(null,[E.moov,f(4294967295)].concat(i).concat(h(e)))},h=function(e){for(var t=e.length,i=[];t--;)i[t]=k(e[t]);return o.apply(null,[E.mvex].concat(i))},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(E.mvhd,t)},_=function(e){var t,i,n=e.samples||[],r=new Uint8Array(4+n.length);for(i=0;i<n.length;i++)t=n[i].flags,r[i+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return o(E.sdtp,r)},b=function(e){return o(E.stbl,T(e),o(E.stts,B),o(E.stsc,D),o(E.stsz,U),o(E.stco,R))},T=function(e){return o(E.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?N(e):F(e))},N=function(e){var t,i=e.sps||[],n=e.pps||[],r=[],a=[];for(t=0;t<i.length;t++)r.push((65280&i[t].byteLength)>>>8),r.push(255&i[t].byteLength),r=r.concat(Array.prototype.slice.call(i[t]));for(t=0;t<n.length;t++)a.push((65280&n[t].byteLength)>>>8),a.push(255&n[t].byteLength),a=a.concat(Array.prototype.slice.call(n[t]));return o(E.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(E.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([i.length]).concat(r).concat([n.length]).concat(a))),o(E.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},F=function(e){return o(E.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))},m=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return o(E.tkhd,t)},S=function(e){var t,i,n,r,a,s;return t=o(E.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),a=Math.floor(e.baseMediaDecodeTime/(V+1)),s=Math.floor(e.baseMediaDecodeTime%(V+1)),i=o(E.tfdt,new Uint8Array([1,0,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s>>>24&255,s>>>16&255,s>>>8&255,255&s])),92,"audio"===e.type?(n=w(e,92),o(E.traf,t,i,n)):(r=_(e),n=w(e,r.length+92),o(E.traf,t,i,n,r))},p=function(e){return e.duration=e.duration||4294967295,o(E.trak,m(e),g(e))},k=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),o(E.trex,t)},G=function(e,t){var i=0,n=0,r=0,a=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,i|n|r|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},H=function(e,t){var i,n,r,a;for(t+=20+16*(n=e.samples||[]).length,i=G(n,t),a=0;a<n.length;a++)r=n[a],i=i.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return o(E.trun,new Uint8Array(i))},q=function(e,t){var i,n,r,a;for(t+=20+8*(n=e.samples||[]).length,i=G(n,t),a=0;a<n.length;a++)r=n[a],i=i.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return o(E.trun,new Uint8Array(i))},w=function(e,t){return"audio"===e.type?q(e,t):H(e,t)},e.exports={ftyp:a,mdat:s,moof:l,moov:c,initSegment:function(e){var t,i=a(),n=c(e);return(t=new Uint8Array(i.byteLength+n.byteLength)).set(i),t.set(n,i.byteLength),t}}},"./node_modules/mux.js/lib/mp4/probe.js":function(e,t,i){"use strict";var u,d,n,r;u=function(e,t){var i,n,r,a,s,o=[];if(!t.length)return null;for(i=0;i<e.byteLength;)n=e[i]<<24,n|=e[i+1]<<16,n|=e[i+2]<<8,n|=e[i+3],r=d(e.subarray(i+4,i+8)),a=1<n?i+n:e.byteLength,r===t[0]&&(1===t.length?o.push(e.subarray(i+8,a)):(s=u(e.subarray(i+8,a),t.slice(1))).length&&(o=o.concat(s))),i=a;return o},d=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},n=function(e){return u(e,["moov","trak"]).reduce(function(e,t){var i,n,r,a;return(i=u(t,["tkhd"])[0])?(r=i[n=0===i[0]?12:20]<<24|i[n+1]<<16|i[n+2]<<8|i[n+3],(a=u(t,["mdia","mdhd"])[0])?(n=0===a[0]?12:20,e[r]=a[n]<<24|a[n+1]<<16|a[n+2]<<8|a[n+3],e):null):null},{})},r=function(r,e){var t,i,n;return t=u(e,["moof","traf"]),i=[].concat.apply([],t.map(function(n){return u(n,["tfhd"]).map(function(e){var t,i;return t=e[4]<<24|e[5]<<16|e[6]<<8|e[7],i=r[t]||9e4,(u(n,["tfdt"]).map(function(e){var t,i;return t=e[0],i=e[4]<<24|e[5]<<16|e[6]<<8|e[7],1===t&&(i*=Math.pow(2,32),i+=e[8]<<24|e[9]<<16|e[10]<<8|e[11]),i})[0]||1/0)/i})})),n=Math.min.apply(null,i),isFinite(n)?n:0},e.exports={parseType:d,timescale:n,startTime:r}},"./node_modules/mux.js/lib/mp4/transmuxer.js":function(e,t,i){"use strict";var h,o,u,d,l,f,p,m,g,c,n=i("./node_modules/mux.js/lib/utils/stream.js"),y=i("./node_modules/mux.js/lib/mp4/mp4-generator.js"),v=i("./node_modules/mux.js/lib/m2ts/m2ts.js"),_=i("./node_modules/mux.js/lib/codecs/adts.js"),b=i("./node_modules/mux.js/lib/codecs/h264.js").H264Stream,T=i("./node_modules/mux.js/lib/aac/index.js"),S=i("./node_modules/mux.js/lib/data/silence.js"),k=i("./node_modules/mux.js/lib/utils/clock.js"),w=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],E=["width","height","profileIdc","levelIdc","profileCompatibility"];l=function(e){return e[0]==="I".charCodeAt(0)&&e[1]==="D".charCodeAt(0)&&e[2]==="3".charCodeAt(0)},g=function(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},c=function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i},(o=function(r){var a=[],s=0,t=0,d=0,l=1/0;o.prototype.init.call(this),this.push=function(t){f(r,t),r&&w.forEach(function(e){r[e]=t[e]}),a.push(t)},this.setEarliestDts=function(e){t=e-r.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(e){l=e},this.setAudioAppendStart=function(e){d=e},this.flush=function(){var e,t,i,n;0!==a.length&&(e=this.trimAdtsFramesByEarliestDts_(a),r.baseMediaDecodeTime=m(r),this.prefixWithSilence_(r,e),r.samples=this.generateSampleTable_(e),i=y.mdat(this.concatenateFrameData_(e)),a=[],t=y.moof(s,[r]),n=new Uint8Array(t.byteLength+i.byteLength),s++,n.set(t),n.set(i,t.byteLength),p(r),this.trigger("data",{track:r,boxes:n})),this.trigger("done","AudioSegmentStream")},this.prefixWithSilence_=function(e,t){var i,n,r,a,s=0,o=0,u=0;if(t.length&&(i=k.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),n=Math.ceil(9e4/(e.samplerate/1024)),d&&l&&(s=i-Math.max(d,l),u=(o=Math.floor(s/n))*n),!(o<1||45e3<u))){for((r=S[e.samplerate])||(r=t[0].data),a=0;a<o;a++)t.splice(a,0,{data:r});e.baseMediaDecodeTime-=Math.floor(k.videoTsToAudioTs(u,e.samplerate))}},this.trimAdtsFramesByEarliestDts_=function(e){return r.minSegmentDts>=t?e:(r.minSegmentDts=1/0,e.filter(function(e){return e.dts>=t&&(r.minSegmentDts=Math.min(r.minSegmentDts,e.dts),r.minSegmentPts=r.minSegmentDts,!0)}))},this.generateSampleTable_=function(e){var t,i,n=[];for(t=0;t<e.length;t++)i=e[t],n.push({size:i.data.byteLength,duration:1024});return n},this.concatenateFrameData_=function(e){var t,i,n=0,r=new Uint8Array(c(e));for(t=0;t<e.length;t++)i=e[t],r.set(i.data,n),n+=i.data.byteLength;return r}}).prototype=new n,(h=function(o,u){var t,i,d=0,l=[],c=[];u=u||{},h.prototype.init.call(this),delete o.minPTS,this.gopCache_=[],this.push=function(e){f(o,e),"seq_parameter_set_rbsp"!==e.nalUnitType||t||(t=e.config,o.sps=[e.data],E.forEach(function(e){o[e]=t[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.data,o.pps=[e.data]),l.push(e)},this.flush=function(){for(var e,t,i,n,r,a;l.length&&"access_unit_delimiter_rbsp"!==l[0].nalUnitType;)l.shift();if(0===l.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(e=this.groupNalsIntoFrames_(l),(i=this.groupFramesIntoGops_(e))[0][0].keyFrame||((t=this.getGopForFusion_(l[0],o))?(i.unshift(t),i.byteLength+=t.byteLength,i.nalCount+=t.nalCount,i.pts=t.pts,i.dts=t.dts,i.duration+=t.duration):i=this.extendFirstKeyFrame_(i)),c.length){var s;if(!(s=u.alignGopsAtEnd?this.alignGopsAtEnd_(i):this.alignGopsAtStart_(i)))return this.gopCache_.unshift({gop:i.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),l=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");p(o),i=s}f(o,i),o.samples=this.generateSampleTable_(i),r=y.mdat(this.concatenateNalData_(i)),o.baseMediaDecodeTime=m(o),this.trigger("processedGopsInfo",i.map(function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}})),this.gopCache_.unshift({gop:i.pop(),pps:o.pps,sps:o.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),l=[],this.trigger("baseMediaDecodeTime",o.baseMediaDecodeTime),this.trigger("timelineStartInfo",o.timelineStartInfo),n=y.moof(d,[o]),a=new Uint8Array(n.byteLength+r.byteLength),d++,a.set(n),a.set(r,n.byteLength),this.trigger("data",{track:o,boxes:a}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){p(o),i=t=void 0},this.getGopForFusion_=function(e){var t,i,n,r,a,s=1/0;for(a=0;a<this.gopCache_.length;a++)n=(r=this.gopCache_[a]).gop,o.pps&&g(o.pps[0],r.pps[0])&&o.sps&&g(o.sps[0],r.sps[0])&&(n.dts<o.timelineStartInfo.dts||-1e4<=(t=e.dts-n.dts-n.duration)&&t<=45e3&&(!i||t<s)&&(i=r,s=t));return i?i.gop:null},this.extendFirstKeyFrame_=function(e){var t;return!e[0][0].keyFrame&&1<e.length&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},this.groupNalsIntoFrames_=function(e){var t,i,n=[],r=[];for(t=n.byteLength=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.push(n),r},this.groupFramesIntoGops_=function(e){var t,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},this.generateSampleTable_=function(e,t){var i,n,r,a,s,o=t||0,u=[];for(i=0;i<e.length;i++)for(a=e[i],n=0;n<a.length;n++)s=a[n],(r={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0}}).dataOffset=o,r.compositionTimeOffset=s.pts-s.dts,r.duration=s.duration,r.size=4*s.length,r.size+=s.byteLength,s.keyFrame&&(r.flags.dependsOn=2),o+=r.size,u.push(r);return u},this.concatenateNalData_=function(e){var t,i,n,r,a,s,o=0,u=e.byteLength,d=e.nalCount,l=new Uint8Array(u+4*d),c=new DataView(l.buffer);for(t=0;t<e.length;t++)for(r=e[t],i=0;i<r.length;i++)for(a=r[i],n=0;n<a.length;n++)s=a[n],c.setUint32(o,s.data.byteLength),o+=4,l.set(s.data,o),o+=s.data.byteLength;return l},this.alignGopsAtStart_=function(e){var t,i,n,r,a,s,o,u;for(a=e.byteLength,s=e.nalCount,o=e.duration,t=i=0;t<c.length&&i<e.length&&(n=c[t],r=e[i],n.pts!==r.pts);)r.pts>n.pts?t++:(i++,a-=r.byteLength,s-=r.nalCount,o-=r.duration);return 0===i?e:i===e.length?null:((u=e.slice(i)).byteLength=a,u.duration=o,u.nalCount=s,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(e){var t,i,n,r,a,s,o;for(t=c.length-1,i=e.length-1,a=null,s=!1;0<=t&&0<=i;){if(n=c[t],r=e[i],n.pts===r.pts){s=!0;break}n.pts>r.pts?t--:(t===c.length-1&&(a=i),i--)}if(!s&&null===a)return null;if(0===(o=s?i:a))return e;var u=e.slice(o),d=u.reduce(function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e},{byteLength:0,duration:0,nalCount:0});return u.byteLength=d.byteLength,u.duration=d.duration,u.nalCount=d.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(e){c=e}}).prototype=new n,f=function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))},p=function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},m=function(e){var t,i=e.minSegmentDts-e.timelineStartInfo.dts;return t=e.timelineStartInfo.baseMediaDecodeTime,t+=i,t=Math.max(0,t),"audio"===e.type&&(t*=e.samplerate/9e4,t=Math.floor(t)),t},(d=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==e.remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,d.prototype.init.call(this),this.push=function(e){return e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBoxes.push(e.boxes),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track),void("audio"===e.track.type&&(this.audioTrack=e.track)))}}).prototype=new n,d.prototype.flush=function(e){var t,i,n,r,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,E.forEach(function(e){s.info[e]=this.videoTrack[e]},this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,w.forEach(function(e){s.info[e]=this.audioTrack[e]},this)),1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,n=y.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(n.byteLength),s.initSegment.set(n),s.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)s.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=t.startPts-o,t.startTime/=9e4,t.endTime=t.endPts-o,t.endTime/=9e4,s.captionStreams[t.stream]=!0,s.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(i=this.pendingMetadata[r]).cueTime=i.pts-o,i.cueTime/=9e4,s.metadata.push(i);s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(u=function(n){var r,a,s=this,i=!0;u.prototype.init.call(this),n=n||{},this.baseMediaDecodeTime=n.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var t={};(this.transmuxPipeline_=t).type="aac",t.metadataStream=new v.MetadataStream,t.aacStream=new T,t.audioTimestampRolloverStream=new v.TimestampRolloverStream("audio"),t.timedMetadataTimestampRolloverStream=new v.TimestampRolloverStream("timed-metadata"),t.adtsStream=new _,t.coalesceStream=new d(n,t.metadataStream),t.headOfPipeline=t.aacStream,t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream),t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream),t.metadataStream.on("timestamp",function(e){t.aacStream.setTimestamp(e.timeStamp)}),t.aacStream.on("data",function(e){"timed-metadata"!==e.type||t.audioSegmentStream||(a=a||{timelineStartInfo:{baseMediaDecodeTime:s.baseMediaDecodeTime},codec:"adts",type:"audio"},t.coalesceStream.numberOfTracks++,t.audioSegmentStream=new o(a),t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream))}),t.coalesceStream.on("data",this.trigger.bind(this,"data")),t.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var i={};(this.transmuxPipeline_=i).type="ts",i.metadataStream=new v.MetadataStream,i.packetStream=new v.TransportPacketStream,i.parseStream=new v.TransportParseStream,i.elementaryStream=new v.ElementaryStream,i.videoTimestampRolloverStream=new v.TimestampRolloverStream("video"),i.audioTimestampRolloverStream=new v.TimestampRolloverStream("audio"),i.timedMetadataTimestampRolloverStream=new v.TimestampRolloverStream("timed-metadata"),i.adtsStream=new _,i.h264Stream=new b,i.captionStream=new v.CaptionStream,i.coalesceStream=new d(n,i.metadataStream),i.headOfPipeline=i.packetStream,i.packetStream.pipe(i.parseStream).pipe(i.elementaryStream),i.elementaryStream.pipe(i.videoTimestampRolloverStream).pipe(i.h264Stream),i.elementaryStream.pipe(i.audioTimestampRolloverStream).pipe(i.adtsStream),i.elementaryStream.pipe(i.timedMetadataTimestampRolloverStream).pipe(i.metadataStream).pipe(i.coalesceStream),i.h264Stream.pipe(i.captionStream).pipe(i.coalesceStream),i.elementaryStream.on("data",function(e){var t;if("metadata"===e.type){for(t=e.tracks.length;t--;)r||"video"!==e.tracks[t].type?a||"audio"!==e.tracks[t].type||((a=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime):(r=e.tracks[t]).timelineStartInfo.baseMediaDecodeTime=s.baseMediaDecodeTime;r&&!i.videoSegmentStream&&(i.coalesceStream.numberOfTracks++,i.videoSegmentStream=new h(r,n),i.videoSegmentStream.on("timelineStartInfo",function(e){a&&(a.timelineStartInfo=e,i.audioSegmentStream.setEarliestDts(e.dts))}),i.videoSegmentStream.on("processedGopsInfo",s.trigger.bind(s,"gopInfo")),i.videoSegmentStream.on("baseMediaDecodeTime",function(e){a&&i.audioSegmentStream.setVideoBaseMediaDecodeTime(e)}),i.h264Stream.pipe(i.videoSegmentStream).pipe(i.coalesceStream)),a&&!i.audioSegmentStream&&(i.coalesceStream.numberOfTracks++,i.audioSegmentStream=new o(a),i.adtsStream.pipe(i.audioSegmentStream).pipe(i.coalesceStream))}}),i.coalesceStream.on("data",this.trigger.bind(this,"data")),i.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(e){var t=this.transmuxPipeline_;this.baseMediaDecodeTime=e,a&&(a.timelineStartInfo.dts=void 0,a.timelineStartInfo.pts=void 0,p(a),a.timelineStartInfo.baseMediaDecodeTime=e,t.audioTimestampRolloverStream&&t.audioTimestampRolloverStream.discontinuity()),r&&(t.videoSegmentStream&&(t.videoSegmentStream.gopCache_=[],t.videoTimestampRolloverStream.discontinuity()),r.timelineStartInfo.dts=void 0,r.timelineStartInfo.pts=void 0,p(r),t.captionStream.reset(),r.timelineStartInfo.baseMediaDecodeTime=e),t.timedMetadataTimestampRolloverStream&&t.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){a&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.alignGopsWith=function(e){r&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.push=function(e){if(i){var t=l(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),i=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){i=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new n,e.exports={Transmuxer:u,VideoSegmentStream:h,AudioSegmentStream:o,AUDIO_PROPERTIES:w,VIDEO_PROPERTIES:E}},"./node_modules/mux.js/lib/tools/ts-inspector.js":function(e,t,i){"use strict";var r=i("./node_modules/mux.js/lib/m2ts/stream-types.js"),a=i("./node_modules/mux.js/lib/m2ts/timestamp-rollover-stream.js").handleRollover,p={};p.ts=i("./node_modules/mux.js/lib/m2ts/probe.js"),p.aac=i("./node_modules/mux.js/lib/aac/probe.js");var m=188,s=function(e,t,i){for(var n,r,a,s,o=0,u=m,d=!1;u<e.byteLength;)if(71!==e[o]||71!==e[u])o++,u++;else{switch(n=e.subarray(o,u),p.ts.parseType(n,t.pid)){case"pes":r=p.ts.parsePesType(n,t.table),a=p.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&a&&(s=p.ts.parsePesTime(n))&&(s.type="audio",i.audio.push(s),d=!0)}if(d)break;o+=m,u+=m}for(o=(u=e.byteLength)-m,d=!1;0<=o;)if(71!==e[o]||71!==e[u])o--,u--;else{switch(n=e.subarray(o,u),p.ts.parseType(n,t.pid)){case"pes":r=p.ts.parsePesType(n,t.table),a=p.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&a&&(s=p.ts.parsePesTime(n))&&(s.type="audio",i.audio.push(s),d=!0)}if(d)break;o-=m,u-=m}},o=function(e,t,i){for(var n,r,a,s,o,u,d,l=0,c=m,h=!1,f={data:[],size:0};c<e.byteLength;)if(71!==e[l]||71!==e[c])l++,c++;else{switch(n=e.subarray(l,c),p.ts.parseType(n,t.pid)){case"pes":if(r=p.ts.parsePesType(n,t.table),a=p.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(a&&!h&&(s=p.ts.parsePesTime(n))&&(s.type="video",i.video.push(s),h=!0),!i.firstKeyFrame)){if(a&&0!==f.size){for(o=new Uint8Array(f.size),u=0;f.data.length;)d=f.data.shift(),o.set(d,u),u+=d.byteLength;p.ts.videoPacketContainsKeyFrame(o)&&(i.firstKeyFrame=p.ts.parsePesTime(o),i.firstKeyFrame.type="video"),f.size=0}f.data.push(n),f.size+=n.byteLength}}if(h&&i.firstKeyFrame)break;l+=m,c+=m}for(l=(c=e.byteLength)-m,h=!1;0<=l;)if(71!==e[l]||71!==e[c])l--,c--;else{switch(n=e.subarray(l,c),p.ts.parseType(n,t.pid)){case"pes":r=p.ts.parsePesType(n,t.table),a=p.ts.parsePayloadUnitStartIndicator(n),"video"===r&&a&&(s=p.ts.parsePesTime(n))&&(s.type="video",i.video.push(s),h=!0)}if(h)break;l-=m,c-=m}},u=function(e){var t={pid:null,table:null},i={};for(var n in function(e,t){for(var i,n=0,r=m;r<e.byteLength;)if(71!==e[n]||71!==e[r])n++,r++;else{switch(i=e.subarray(n,r),p.ts.parseType(i,t.pid)){case"pat":t.pid||(t.pid=p.ts.parsePat(i));break;case"pmt":t.table||(t.table=p.ts.parsePmt(i))}if(t.pid&&t.table)return;n+=m,r+=m}}(e,t),t.table){if(t.table.hasOwnProperty(n))switch(t.table[n]){case r.H264_STREAM_TYPE:i.video=[],o(e,t,i),0===i.video.length&&delete i.video;break;case r.ADTS_STREAM_TYPE:i.audio=[],s(e,t,i),0===i.audio.length&&delete i.audio}}return i};e.exports={inspect:function(e,t){var i,n;return(n=(i=e)[0]==="I".charCodeAt(0)&&i[1]==="D".charCodeAt(0)&&i[2]==="3".charCodeAt(0)?function(e){for(var t,i=!1,n=0,r=null,a=null,s=0,o=0;3<=e.length-o;){switch(p.aac.parseType(e,o)){case"timed-metadata":if(e.length-o<10){i=!0;break}if((s=p.aac.parseId3TagSize(e,o))>e.length){i=!0;break}null===a&&(t=e.subarray(o,o+s),a=p.aac.parseAacTimestamp(t)),o+=s;break;case"audio":if(e.length-o<7){i=!0;break}if((s=p.aac.parseAdtsSize(e,o))>e.length){i=!0;break}null===r&&(t=e.subarray(o,o+s),r=p.aac.parseSampleRate(t)),n++,o+=s;break;default:o++}if(i)return null}if(null===r||null===a)return null;var u=9e4/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*n*u,pts:a+1024*n*u}]}}(e):u(e))&&(n.audio||n.video)?(function(e,t){if(e.audio&&e.audio.length){var i=t;void 0===i&&(i=e.audio[0].dts),e.audio.forEach(function(e){e.dts=a(e.dts,i),e.pts=a(e.pts,i),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4})}if(e.video&&e.video.length){var n=t;if(void 0===n&&(n=e.video[0].dts),e.video.forEach(function(e){e.dts=a(e.dts,n),e.pts=a(e.pts,n),e.dtsTime=e.dts/9e4,e.ptsTime=e.pts/9e4}),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=a(r.dts,n),r.pts=a(r.pts,n),r.dtsTime=r.dts/9e4,r.ptsTime=r.dts/9e4}}}(n,t),n):null}}},"./node_modules/mux.js/lib/utils/clock.js":function(e,t){var i,n,r,a,s,o;i=function(e){return 9e4*e},n=function(e,t){return e*t},r=function(e){return e/9e4},a=function(e,t){return e/t},s=function(e,t){return i(a(e,t))},o=function(e,t){return n(r(e),t)},e.exports={secondsToVideoTs:i,secondsToAudioTs:n,videoTsToSeconds:r,audioTsToSeconds:a,audioTsToVideoTs:s,videoTsToAudioTs:o}},"./node_modules/mux.js/lib/utils/exp-golomb.js":function(e,t,i){"use strict";var n;n=function(n){var r=n.byteLength,a=0,s=0;this.length=function(){return 8*r},this.bitsAvailable=function(){return 8*r+s},this.loadWord=function(){var e=n.byteLength-r,t=new Uint8Array(4),i=Math.min(4,r);if(0===i)throw new Error("no bytes available");t.set(n.subarray(e,e+i)),a=new DataView(t.buffer).getUint32(0),s=8*i,r-=i},this.skipBits=function(e){var t;e<s||(e-=s,e-=8*(t=Math.floor(e/8)),r-=t,this.loadWord()),a<<=e,s-=e},this.readBits=function(e){var t=Math.min(s,e),i=a>>>32-t;return 0<(s-=t)?a<<=t:0<r&&this.loadWord(),0<(t=e-t)?i<<t|this.readBits(t):i},this.skipLeadingZeros=function(){var e;for(e=0;e<s;++e)if(0!=(a&2147483648>>>e))return a<<=e,s-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()},e.exports=n},"./node_modules/mux.js/lib/utils/stream.js":function(e,t,i){"use strict";var n=function(){this.init=function(){var a={};this.on=function(e,t){a[e]||(a[e]=[]),a[e]=a[e].concat(t)},this.off=function(e,t){var i;return!!a[e]&&(i=a[e].indexOf(t),a[e]=a[e].slice(),a[e].splice(i,1),-1<i)},this.trigger=function(e){var t,i,n,r;if(t=a[e])if(2===arguments.length)for(n=t.length,i=0;i<n;++i)t[i].call(this,arguments[1]);else{for(r=[],i=arguments.length,i=1;i<arguments.length;++i)r.push(arguments[i]);for(n=t.length,i=0;i<n;++i)t[i].apply(this,r)}},this.dispose=function(){a={}}}};n.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},n.prototype.push=function(e){this.trigger("data",e)},n.prototype.flush=function(e){this.trigger("done",e)},e.exports=n},"./node_modules/pkcs7/lib/pad.js":function(e,t,i){"use strict";var n;e.exports=function(e){var t=n[e.byteLength%16||0],i=new Uint8Array(e.byteLength+t.length);return i.set(e),i.set(t,e.byteLength),i},n=[[16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16],[15,15,15,15,15,15,15,15,15,15,15,15,15,15,15],[14,14,14,14,14,14,14,14,14,14,14,14,14,14],[13,13,13,13,13,13,13,13,13,13,13,13,13],[12,12,12,12,12,12,12,12,12,12,12,12],[11,11,11,11,11,11,11,11,11,11,11],[10,10,10,10,10,10,10,10,10,10],[9,9,9,9,9,9,9,9,9],[8,8,8,8,8,8,8,8],[7,7,7,7,7,7,7],[6,6,6,6,6,6],[5,5,5,5,5],[4,4,4,4],[3,3,3],[2,2],[1]]},"./node_modules/pkcs7/lib/pkcs7.js":function(e,t,i){"use strict";t.pad=i("./node_modules/pkcs7/lib/pad.js"),t.unpad=i("./node_modules/pkcs7/lib/unpad.js")},"./node_modules/pkcs7/lib/unpad.js":function(e,t,i){"use strict";e.exports=function(e){return e.subarray(0,e.byteLength-e[e.byteLength-1])}},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,i){var n,l,r,a,c;n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,l=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,c={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var n=c.parseURL(e);if(!n)throw new Error("Error trying to parse base URL.");return n.path=c.normalizePath(n.path),c.buildURLFromParts(n)}var r=c.parseURL(t);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return i.alwaysNormalize?(r.path=c.normalizePath(r.path),c.buildURLFromParts(r)):t;var a=c.parseURL(e);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var s=l.exec(a.path);a.netLoc=s[1],a.path=s[2]}a.netLoc&&!a.path&&(a.path="/");var o={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(o.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var u=a.path,d=u.substring(0,u.lastIndexOf("/")+1)+r.path;o.path=c.normalizePath(d)}else o.path=a.path,r.params||(o.params=a.params,r.query||(o.query=a.query));return null===o.path&&(o.path=i.alwaysNormalize?c.normalizePath(r.path):r.path),c.buildURLFromParts(o)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=c},"./node_modules/videojs-contrib-hls/es5/ad-cue-tags.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var n,r=i("./node_modules/global/window.js"),h=(n=r)&&n.__esModule?n:{default:n},f=function(e,t){for(var i=e.cues,n=0;n<i.length;n++){var r=i[n];if(t>=r.adStartTime&&t<=r.adEndTime)return r}return null};t.default={updateAdCues:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?0:arguments[2];if(e.segments)for(var n=i,r=void 0,a=0;a<e.segments.length;a++){var s=e.segments[a];if(r||(r=f(t,n+s.duration/2)),r){if("cueIn"in s){r.endTime=n,r.adEndTime=n,n+=s.duration,r=null;continue}if(n<r.endTime){n+=s.duration;continue}r.endTime+=s.duration}else if("cueOut"in s&&((r=new h.default.VTTCue(n,n+s.duration,s.cueOut)).adStartTime=n,r.adEndTime=n+parseFloat(s.cueOut),t.addCue(r)),"cueOutCont"in s){var o,u,d=s.cueOutCont.split("/").map(parseFloat),l=c(d,2);o=l[0],u=l[1],(r=new h.default.VTTCue(n,n+s.duration,"")).adStartTime=n-o,r.adEndTime=r.adStartTime+u,t.addCue(r)}n+=s.duration}},findAdCue:f},e.exports=t.default},"./node_modules/videojs-contrib-hls/es5/bin-utils.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var i=e.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")},a=function(e){return 32<=e&&e<126?String.fromCharCode(e):"."},n={hexDump:function(e){for(var t=Array.prototype.slice.call(e),i="",n=0;n<t.length/16;n++)i+=t.slice(16*n,16*n+16).map(r).join("")+" "+t.slice(16*n,16*n+16).map(a).join("")+"\n";return i},tagDump:function(e){return n.hexDump(e.bytes)},textRanges:function(e){var t,i,n="",r=void 0;for(r=0;r<e.length;r++)n+=(i=r,(t=e).start(i)+"-"+t.end(i)+" ");return n},createTransferableMessage:function(i){var n={};return Object.keys(i).forEach(function(e){var t=i[e];ArrayBuffer.isView(t)?n[e]={bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:n[e]=t}),n},initSegmentId:function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")}};t.default=n,e.exports=t.default},"./node_modules/videojs-contrib-hls/es5/config.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},e.exports=t.default},"./node_modules/videojs-contrib-hls/es5/decrypter-worker.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i("./node_modules/global/window.js"),a=(n=r)&&n.__esModule?n:{default:n},s=i("./node_modules/aes-decrypter/es5/index.js"),o=i("./node_modules/videojs-contrib-hls/es5/bin-utils.js"),u=function(e){e.onmessage=function(e){var i=e.data,t=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),n=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),r=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new s.Decrypter(t,n,r,function(e,t){a.default.postMessage((0,o.createTransferableMessage)({source:i.source,decrypted:t}),[t.buffer])})}};t.default=function(e){return new u(e)},e.exports=t.default},"./node_modules/videojs-contrib-hls/es5/master-playlist-controller.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var f=r(i("./node_modules/videojs-contrib-hls/es5/playlist-loader.js")),a=i("./node_modules/videojs-contrib-hls/es5/playlist.js"),p=r(i("./node_modules/videojs-contrib-hls/es5/segment-loader.js")),m=r(i("./node_modules/videojs-contrib-hls/es5/vtt-segment-loader.js")),s=r(i("./node_modules/videojs-contrib-hls/es5/ranges.js")),g=r(i("./node_modules/video.js/es5/video.js")),o=r(i("./node_modules/videojs-contrib-hls/es5/ad-cue-tags.js")),y=r(i("./node_modules/videojs-contrib-hls/es5/sync-controller.js")),u=i("./node_modules/videojs-contrib-media-sources/es5/codec-utils.js"),v=r(i("./node_modules/webwackify/index.js")),_=r(i("./node_modules/videojs-contrib-hls/es5/decrypter-worker.js")),d=r(i("./node_modules/videojs-contrib-hls/es5/config.js")),b=i("./node_modules/videojs-contrib-hls/es5/util/codecs.js"),T=i("./node_modules/videojs-contrib-hls/es5/media-groups.js"),S=void 0,k={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},w=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],l=function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e){return(0,u.translateLegacyCodecs)([e])[0]})};t.mapLegacyAvcCodecs_=l;var E=function(e,t,i){return e+"/"+t+'; codecs="'+i.filter(function(e){return!!e}).join(", ")+'"'},c=function(e,t){var i,n,r=(i=t).segments&&i.segments.length&&i.segments[0].map?"mp4":"mp2t",a=(n=t.attributes||{}).CODECS?(0,b.parseCodecs)(n.CODECS):k,s=t.attributes||{},o=!0,u=!1;if(!t)return[];if(e.mediaGroups.AUDIO&&s.AUDIO){var d=e.mediaGroups.AUDIO[s.AUDIO];if(d)for(var l in o=!(u=!0),d)if(!d[l].uri){o=!0;break}}u&&!a.audioProfile&&(g.default.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),a.audioProfile=k.audioProfile);var c={};a.videoCodec&&(c.video=""+a.videoCodec+a.videoObjectTypeIndicator),a.audioProfile&&(c.audio="mp4a.40."+a.audioProfile);var h=E("audio",r,[c.audio]),f=E("video",r,[c.video]),p=E("video",r,[c.video,c.audio]);return u?!o&&c.video?[f,h]:[p,h]:c.video?[p]:[h]};t.mimeTypesForPlaylist_=c;var h=function(e){function h(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=a,i=s,n=!0,o=d=void 0}}(Object.getPrototypeOf(h.prototype),"constructor",this).call(this);var i=e.url,n=e.withCredentials,r=e.mode,a=e.tech,s=e.bandwidth,o=e.externHls,u=e.useCueTags,d=e.blacklistDuration,l=e.enableLowInitialPlaylist;if(!i)throw new Error("A non-empty playlist URL is required");S=o,this.withCredentials=n,this.tech_=a,this.hls_=a.hls,this.mode_=r,this.useCueTags_=u,this.blacklistDuration=d,this.enableLowInitialPlaylist=l,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:this.withCredentials,timeout:null},this.mediaTypes_=(0,T.createMediaTypes)(),this.mediaSource=new g.default.MediaSource({mode:r}),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_.bind(this)),this.seekable_=g.default.createTimeRanges(),this.hasPlayed_=function(){return!1},this.syncController_=new y.default(e),this.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=(0,v.default)(_.default,function(){var e=void 0;try{e="./node_modules/videojs-contrib-hls/es5/decrypter-worker.js"}catch(e){}return e}());var c={hls:this.hls_,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.mediaSource.duration},hasPlayed:function(){return t.hasPlayed_()},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_};this.masterPlaylistLoader_=new f.default(i,this.hls_,this.withCredentials),this.setupMasterPlaylistLoaderListeners_(),this.mainSegmentLoader_=new p.default(g.default.mergeOptions(c,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new p.default(g.default.mergeOptions(c,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new m.default(g.default.mergeOptions(c,{loaderType:"vtt"}),e),this.setupSegmentLoaderListeners_(),w.forEach(function(e){t[e+"_"]=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]}.bind(t,e)}),this.masterPlaylistLoader_.load()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(h,g["default"].EventTarget),n(h,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*n.masterPlaylistLoader_.targetDuration*1e3;(0,a.isLowestEnabledRendition)(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,e.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load()),(0,T.setupMediaGroups)({segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,mode:n.mode_,hls:n.hls_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),e);try{n.setupSourceBuffers_()}catch(e){return g.default.log.warn("Failed to create SourceBuffers",e),n.mediaSource.endOfStream("decode")}n.setupFirstPlay(),n.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var t,e=n.masterPlaylistLoader_.media();if(!e){var i=void 0;return n.enableLowInitialPlaylist&&(i=n.selectInitialPlaylist()),i||(i=n.selectPlaylist()),n.initialMedia_=i,void n.masterPlaylistLoader_.media(n.initialMedia_)}n.useCueTags_&&n.updateAdCues_(e),n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.updateDuration(),n.tech_.paused()||n.mainSegmentLoader_.load(),e.endList||(t=function(){var e=n.seekable();0!==e.length&&n.mediaSource.addSeekableRange_(e.start(0),e.end(0))},n.duration()!==1/0?n.tech_.one("durationchange",function e(){n.duration()===1/0?t():n.tech_.one("durationchange",e)}):t())}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=n.masterPlaylistLoader_.media(),t=1.5*n.masterPlaylistLoader_.targetDuration*1e3;(0,a.isLowestEnabledRendition)(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=t,n.mainSegmentLoader_.playlist(e,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=n.masterPlaylistLoader_.media();n.stuckAtPlaylistEnd_(e)&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),n.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(e,t){var i=e.mediaGroups||{},n=!0,r=Object.keys(i.AUDIO);for(var a in i.AUDIO)for(var s in i.AUDIO[a]){i.AUDIO[a][s].uri||(n=!1)}n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),S.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),S.Playlist.isFmp4(t)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),r.length&&1<Object.keys(i.AUDIO[r[0]]).length&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var a=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=a.selectPlaylist(),t=a.masterPlaylistLoader_.media(),i=a.tech_.buffered(),n=i.length?i.end(i.length-1)-a.tech_.currentTime():0,r=a.bufferLowWaterLine();(!t.endList||a.duration()<d.default.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<t.attributes.BANDWIDTH||r<=n)&&a.masterPlaylistLoader_.media(e),a.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){a.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){a.blacklistCurrentPlaylist(a.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){a.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){a.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){a.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){a.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){a.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){a.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){a.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"fastQualityChange_",value:function(){var e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetLoader())}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_()&&this.load();var e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var e,t=this,i=this.masterPlaylistLoader_.media();if(!i||this.tech_.paused()||this.hasPlayed_())return!1;if(!i.endList){var n=(e=t.seekable()).length?g.default.browser.IE_VERSION&&"html5"===t.mode_&&0===t.tech_.readyState()?(t.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(e.end(0)),t.hasPlayed_=function(){return!0}}),{v:!1}):(t.trigger("firstplay"),void t.tech_.setCurrentTime(e.end(0))):{v:!1};if("object"==typeof n)return n.v}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(e){return g.default.log.warn("Failed to create Source Buffers",e),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(e){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var e=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(e=e&&this.audioSegmentLoader_.ended_),e&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(e){if(!this.seekable().length)return!1;var t=this.syncController_.getExpiredTime(e,this.mediaSource.duration);if(null===t)return!1;var i=S.Playlist.playlistEnd(e,t),n=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return i-n<=s.default.SAFE_TIME_DELTA;var a=r.end(r.length-1);return a-n<=s.default.SAFE_TIME_DELTA&&i-a<=s.default.SAFE_TIME_DELTA}},{key:"blacklistCurrentPlaylist",value:function(e,t){void 0===e&&(e={});var i,n=void 0;if(n=e.playlist||this.masterPlaylistLoader_.media(),t=t||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(e){return this.trigger("error")}}var r=1===this.masterPlaylistLoader_.master.playlists.filter(a.isEnabled).length;return r?(g.default.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(r)):(n.excludeUntil=Date.now()+1e3*t,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),i=this.selectPlaylist(),g.default.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(i))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(e){var t=s.default.findRange(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?t&&t.length&&"flash"!==this.mode_?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:S.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var e=void 0,t=void 0;if(this.masterPlaylistLoader_){var i=this.masterPlaylistLoader_.media();if(i){var n=this.syncController_.getExpiredTime(i,this.mediaSource.duration);if(null!==n&&0!==(e=S.Playlist.seekable(i,n)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(i,this.mediaSource.duration)))return;if(0===(t=S.Playlist.seekable(i,n)).length)return}t?t.start(0)>e.end(0)||e.start(0)>t.end(0)?this.seekable_=e:this.seekable_=g.default.createTimeRanges([[t.start(0)>e.start(0)?t.start(0):e.start(0),t.end(0)<e.end(0)?t.end(0):e.end(0)]]):this.seekable_=e,this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,i=S.Playlist.duration(this.masterPlaylistLoader_.media()),n=this.tech_.buffered(),r=function e(){t.mediaSource.duration=i,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};0<n.length&&(i=Math.max(i,n.end(n.length-1))),e!==i&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",r):r())}},{key:"dispose",value:function(){var n=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var t=n.mediaTypes_[e].groups;for(var i in t)t[i].forEach(function(e){e.playlistLoader&&e.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var e,t=this.masterPlaylistLoader_.media();if(t&&"open"===this.mediaSource.readyState){if((e=c(this.masterPlaylistLoader_.master,t)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+t.resolvedUri,this.mediaSource.endOfStream("decode");this.mainSegmentLoader_.mimeType(e[0]),e[1]&&this.audioSegmentLoader_.mimeType(e[1]),this.excludeIncompatibleVariants_(t)}}},{key:"excludeIncompatibleVariants_",value:function(e){var t=this.masterPlaylistLoader_.master,n=2,r=null,i=void 0;e.attributes.CODECS&&(i=(0,b.parseCodecs)(e.attributes.CODECS),r=i.videoCodec,n=i.codecCount),t.playlists.forEach(function(e){var t={codecCount:2,videoCodec:null};if(e.attributes.CODECS){var i=e.attributes.CODECS;t=(0,b.parseCodecs)(i),window.MediaSource&&window.MediaSource.isTypeSupported&&!window.MediaSource.isTypeSupported('video/mp4; codecs="'+l(i)+'"')&&(e.excludeUntil=1/0)}t.codecCount!==n&&(e.excludeUntil=1/0),t.videoCodec!==r&&(e.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(e){var t=0,i=this.seekable();i.length&&(t=i.start(0)),o.default.updateAdCues(e,this.cueTagsTrack_,t)}},{key:"goalBufferLength",value:function(){var e=this.tech_.currentTime(),t=d.default.GOAL_BUFFER_LENGTH,i=d.default.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,d.default.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,n)}},{key:"bufferLowWaterLine",value:function(){var e=this.tech_.currentTime(),t=d.default.BUFFER_LOW_WATER_LINE,i=d.default.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,d.default.MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,n)}}]),h}();t.MasterPlaylistController=h},"./node_modules/videojs-contrib-hls/es5/media-groups.js":function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var y=n(i("./node_modules/video.js/es5/video.js")),v=n(i("./node_modules/videojs-contrib-hls/es5/playlist-loader.js")),r=function(){},l=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)};t.stopLoaders=l;var d=function(e,t){(t.activePlaylistLoader=e).load()};t.startLoaders=d;var c=function(o,u){return function(){var e=u.segmentLoaders,t=e[o],i=e.main,n=u.mediaTypes[o],r=n.activeTrack(),a=n.activeGroup(r),s=n.activePlaylistLoader;l(t,n),a&&(a.playlistLoader?(t.resyncLoader(),d(a.playlistLoader,n)):s&&i.resetEverything())}};t.onGroupChanged=c;var h=function(o,u){return function(){var e=u.segmentLoaders,t=e[o],i=e.main,n=u.mediaTypes[o],r=n.activeTrack(),a=n.activeGroup(r),s=n.activePlaylistLoader;l(t,n),a&&(a.playlistLoader?(s!==a.playlistLoader&&(t.track&&t.track(r),t.resetEverything()),d(a.playlistLoader,n)):i.resetEverything())}};t.onTrackChanged=h;var _={AUDIO:function(u,d){return function(){var e=d.segmentLoaders[u],t=d.mediaTypes[u],i=d.blacklistCurrentPlaylist;l(e,t);var n=t.activeTrack(),r=t.activeGroup(),a=(r.filter(function(e){return e.default})[0]||r[0]).id,s=t.tracks[a];if(n!==s){for(var o in y.default.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[o].enabled=t.tracks[o]===s;t.onTrackChanged()}else i({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(n,r){return function(){var e=r.segmentLoaders[n],t=r.mediaTypes[n];y.default.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),l(e,t);var i=t.activeTrack();i&&(i.mode="disabled"),t.onTrackChanged()}}};t.onError=_;var b={AUDIO:function(e,t,i){if(t){var n=i.tech,r=i.requestOptions,a=i.segmentLoaders[e];t.on("loadedmetadata",function(){var e=t.media();a.playlist(e,r),(!n.paused()||e.endList&&"none"!==n.preload())&&a.load()}),t.on("loadedplaylist",function(){a.playlist(t.media(),r),n.paused()||a.load()}),t.on("error",_[e](e,i))}},SUBTITLES:function(e,t,i){var n=i.tech,r=i.requestOptions,a=i.segmentLoaders[e],s=i.mediaTypes[e];t.on("loadedmetadata",function(){var e=t.media();a.playlist(e,r),a.track(s.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&a.load()}),t.on("loadedplaylist",function(){a.playlist(t.media(),r),n.paused()||a.load()}),t.on("error",_[e](e,i))}};t.setupListeners=b;var f={AUDIO:function(e,t){var i,n,r=t.mode,a=t.hls,s=t.segmentLoaders[e],o=t.requestOptions.withCredentials,u=t.master.mediaGroups,d=t.mediaTypes[e],l=d.groups,c=d.tracks;for(var h in u[e]&&0!==Object.keys(u[e]).length&&"html5"===r||(u[e]={main:{default:{default:!0}}}),u[e])for(var f in l[h]||(l[h]=[]),u[e][h]){var p=u[e][h][f],m=void 0;if(m=p.resolvedUri?new v.default(p.resolvedUri,a,o):null,p=y.default.mergeOptions({id:f,playlistLoader:m},p),b[e](e,p.playlistLoader,t),l[h].push(p),void 0===c[f]){var g=new y.default.AudioTrack({id:f,kind:(i=p,n=void 0,n=i.default?"main":"alternative",i.characteristics&&0<=i.characteristics.indexOf("public.accessibility.describes-video")&&(n="main-desc"),n),enabled:!1,language:p.language,default:p.default,label:f});c[f]=g}}s.on("error",_[e](e,t))},SUBTITLES:function(e,t){var i=t.tech,n=t.hls,r=t.segmentLoaders[e],a=t.requestOptions.withCredentials,s=t.master.mediaGroups,o=t.mediaTypes[e],u=o.groups,d=o.tracks;for(var l in s[e])for(var c in u[l]||(u[l]=[]),s[e][l])if(!s[e][l][c].forced){var h=s[e][l][c];if(h=y.default.mergeOptions({id:c,playlistLoader:new v.default(h.resolvedUri,n,a)},h),b[e](e,h.playlistLoader,t),u[l].push(h),void 0===d[c]){var f=i.addRemoteTextTrack({id:c,kind:"subtitles",enabled:!1,language:h.language,label:c},!1).track;d[c]=f}}r.on("error",_[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var i=t.tech,n=t.master.mediaGroups,r=t.mediaTypes[e],a=r.groups,s=r.tracks;for(var o in n[e])for(var u in a[o]||(a[o]=[]),n[e][o]){var d=n[e][o][u];if(d.instreamId.match(/CC\d/)&&(a[o].push(y.default.mergeOptions({id:u},d)),void 0===s[u])){var l=i.addRemoteTextTrack({id:d.instreamId,kind:"captions",enabled:!1,language:d.language,label:u},!1).track;s[u]=l}}}};t.initialize=f;var p=function(a,s){return function(t){var e=s.masterPlaylistLoader,i=s.mediaTypes[a].groups,n=e.media();if(!n)return null;var r=null;return n.attributes[a]&&(r=i[n.attributes[a]]),r=r||i.main,void 0===t?r:null===t?null:r.filter(function(e){return e.id===t.id})[0]||null}};t.activeGroup=p;var m={AUDIO:function(i,n){return function(){var e=n.mediaTypes[i].tracks;for(var t in e)if(e[t].enabled)return e[t];return null}},SUBTITLES:function(i,n){return function(){var e=n.mediaTypes[i].tracks;for(var t in e)if("showing"===e[t].mode)return e[t];return null}}};t.activeTrack=m;t.setupMediaGroups=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){f[e](e,t)});var i=t.mediaTypes,e=t.masterPlaylistLoader,n=t.tech,r=t.hls;["AUDIO","SUBTITLES"].forEach(function(e){i[e].activeGroup=p(e,t),i[e].activeTrack=m[e](e,t),i[e].onGroupChanged=c(e,t),i[e].onTrackChanged=h(e,t)});var a=i.AUDIO.activeGroup(),s=(a.filter(function(e){return e.default})[0]||a[0]).id;i.AUDIO.tracks[s].enabled=!0,i.AUDIO.onTrackChanged(),e.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(e){return i[e].onGroupChanged()})});var o=function(){i.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"hls-audio-change"})};for(var u in n.audioTracks().addEventListener("change",o),n.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),r.on("dispose",function(){n.audioTracks().removeEventListener("change",o),n.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),i.AUDIO.tracks)n.audioTracks().addTrack(i.AUDIO.tracks[u])};t.createMediaTypes=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:r,activeTrack:r,onGroupChanged:r,onTrackChanged:r}}),t}},"./node_modules/videojs-contrib-hls/es5/media-segment-request.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i("./node_modules/video.js/es5/video.js"),y=(n=r)&&n.__esModule?n:{default:n},c=i("./node_modules/videojs-contrib-hls/es5/bin-utils.js"),v={FAILURE:2,TIMEOUT:-101,ABORTED:-102};t.REQUEST_ERRORS=v;var _=function(e){var t,i,n={};return e.byterange&&(n.Range=(t=e.byterange,i=t.offset+t.length-1,"bytes="+t.offset+"-"+i)),n},b=function(e){e.forEach(function(e){e.abort()})},T=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:v.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:v.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:v.FAILURE,xhr:t}:null},S=function(s,o,u){var d=[],l=0;return function(e,t){if(e&&(b(s),d.push(e)),(l+=1)===s.length){if(t.endOfAllRequests=Date.now(),0<d.length){var i=d.reduce(function(e,t){return t.code>e.code?t:e});return u(i,t)}return t.encryptedBytes?(r=t,a=u,(n=o).addEventListener("message",function e(t){if(t.data.source===r.requestId){n.removeEventListener("message",e);var i=t.data.decrypted;return r.bytes=new Uint8Array(i.bytes,i.byteOffset,i.byteLength),a(null,r)}}),void n.postMessage((0,c.createTransferableMessage)({source:r.requestId,encrypted:r.encryptedBytes,key:r.key.bytes,iv:r.key.iv}),[r.encryptedBytes.buffer,r.key.bytes.buffer])):u(null,t)}var n,r,a}},k=function(r,a){return function(e){var t,i,n;return r.stats=y.default.mergeOptions(r.stats,(i=(t=e).target,(n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-i.requestTime||0}).bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),a(e,r)}};t.mediaSegmentRequest=function(e,t,i,n,r,a){var s,o,u,d,l=[],c=S(l,i,a);if(n.key){var h=e(y.default.mergeOptions(t,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),(s=n,o=c,function(e,t){var i=t.response,n=T(e,t);if(n)return o(n,s);if(16!==i.byteLength)return o({status:t.status,message:"Invalid HLS key at URL: "+t.uri,code:v.FAILURE,xhr:t},s);var r=new DataView(i);return s.key.bytes=new Uint32Array([r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12)]),o(null,s)}));l.push(h)}if(n.map&&!n.map.bytes){var f=e(y.default.mergeOptions(t,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:_(n.map)}),(u=n,d=c,function(e,t){var i=t.response,n=T(e,t);return n?d(n,u):0===i.byteLength?d({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:v.FAILURE,xhr:t},u):(u.map.bytes=new Uint8Array(t.response),d(null,u))}));l.push(f)}var p,m,g=e(y.default.mergeOptions(t,{uri:n.resolvedUri,responseType:"arraybuffer",headers:_(n)}),(p=n,m=c,function(e,t){var i,n=t.response,r=T(e,t);return r?m(r,p):0===n.byteLength?m({status:t.status,message:"Empty HLS segment content at URL: "+t.uri,code:v.FAILURE,xhr:t},p):(p.stats={bandwidth:(i=t).bandwidth,bytesReceived:i.bytesReceived||0,roundTripTime:i.roundTripTime||0},p.key?p.encryptedBytes=new Uint8Array(t.response):p.bytes=new Uint8Array(t.response),m(null,p))}));return g.addEventListener("progress",k(n,r)),l.push(g),function(){return b(l)}}},"./node_modules/videojs-contrib-hls/es5/playback-watcher.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var o=r(i("./node_modules/global/window.js")),u=r(i("./node_modules/videojs-contrib-hls/es5/ranges.js")),d=r(i("./node_modules/video.js/es5/video.js")),l=["seeking","seeked","pause","playing","error"],a=function(){function s(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.tech_=e.tech,this.seekable=e.seekable,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,e.debug&&(this.logger_=d.default.log.bind(d.default,"playback-watcher ->")),this.logger_("initialize");var i=function(){return t.monitorCurrentTime_()},n=function(){return t.techWaiting_()},r=function(){return t.cancelTimer_()},a=function(){return t.fixesBadSeeks_()};this.tech_.on("seekablechanged",a),this.tech_.on("waiting",n),this.tech_.on(l,r),this.tech_.on("canplay",i),this.dispose=function(){t.logger_("dispose"),t.tech_.off("seekablechanged",a),t.tech_.off("waiting",n),t.tech_.off(l,r),t.tech_.off("canplay",i),t.checkCurrentTimeTimeout_&&o.default.clearTimeout(t.checkCurrentTimeTimeout_),t.cancelTimer_()}}return n(s,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&o.default.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=o.default.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+u.default.SAFE_TIME_DELTA>=t.end(t.length-1)))return this.techWaiting_();5<=this.consecutiveUpdates&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var e=this.tech_.seeking(),t=this.seekable(),i=this.tech_.currentTime(),n=void 0;e&&this.afterSeekableWindow_(t,i)&&(n=t.end(t.length-1));e&&this.beforeSeekableWindow_(t,i)&&(n=t.start(0)+u.default.SAFE_TIME_DELTA);return void 0!==n&&(this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+u.default.printableRange(t)+". Seeking to "+n+"."),this.tech_.setCurrentTime(n),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var e=this.tech_.currentTime(),t=this.tech_.buffered(),i=u.default.findRange(t,e);return i.length&&e+3<=i.end(0)?(this.cancelTimer_(),this.tech_.setCurrentTime(e),this.logger_("Stopped at "+e+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(e,t)){var i=e.end(e.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.buffered(),r=u.default.findNextRange(n,t);if(this.videoUnderflow_(r,n,t))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(0<r.length){var a=r.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+a+", seeking to "+r.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*a,t),!0}return!1}},{key:"afterSeekableWindow_",value:function(e,t){return!!e.length&&t>e.end(e.length-1)+u.default.SAFE_TIME_DELTA}},{key:"beforeSeekableWindow_",value:function(e,t){return!!(e.length&&0<e.start(0)&&t<e.start(0)-u.default.SAFE_TIME_DELTA)}},{key:"videoUnderflow_",value:function(e,t,i){if(0===e.length){var n=this.gapFromVideoUnderflow_(t,i);if(n)return this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+i),!0}return!1}},{key:"skipTheGap_",value:function(e){var t=this.tech_.buffered(),i=this.tech_.currentTime(),n=u.default.findNextRange(t,i);this.cancelTimer_(),0!==n.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+u.default.TIME_FUDGE_FACTOR),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(e,t){for(var i=u.default.findGaps(e),n=0;n<i.length;n++){var r=i.start(n),a=i.end(n);if(t-r<4&&2<t-r)return{start:r,end:a}}return null}},{key:"logger_",value:function(){}}]),s}();t.default=a,e.exports=t.default},"./node_modules/videojs-contrib-hls/es5/playlist-loader.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var a=r(i("./node_modules/videojs-contrib-hls/es5/resolve-url.js")),s=i("./node_modules/video.js/es5/video.js"),o=r(i("./node_modules/m3u8-parser/es5/index.js")),u=r(i("./node_modules/global/window.js")),d=function(e,t,i){var n=t.slice();i=i||0;for(var r=Math.min(e.length,t.length+i),a=i;a<r;a++)n[a-i]=(0,s.mergeOptions)(e[a],n[a-i]);return n};t.updateSegments=d;var l=function(e,t){e.resolvedUri||(e.resolvedUri=(0,a.default)(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=(0,a.default)(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=(0,a.default)(t,e.map.uri))};t.resolveSegmentUris=l;var c=function(e,t){var i=(0,s.mergeOptions)(e,{}),n=i.playlists.filter(function(e){return e.uri===t.uri})[0];if(!n)return null;if(n.segments&&t.segments&&n.segments.length===t.segments.length&&n.mediaSequence===t.mediaSequence)return null;var r=(0,s.mergeOptions)(n,t);n.segments&&(r.segments=d(n.segments,t.segments,t.mediaSequence-n.mediaSequence)),r.segments.forEach(function(e){l(e,r.resolvedUri)});for(var a=0;a<i.playlists.length;a++)i.playlists[a].uri===t.uri&&(i.playlists[a]=r);return i.playlists[t.uri]=r,i};t.updateMaster=c;var h=function(e){for(var t=e.playlists.length;t--;){var i=e.playlists[t];(e.playlists[i.uri]=i).resolvedUri=(0,a.default)(e.uri,i.uri),i.attributes||(i.attributes={},s.log.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}};t.setupMediaPlaylists=h;var f=function(r){["AUDIO","SUBTITLES"].forEach(function(e){for(var t in r.mediaGroups[e])for(var i in r.mediaGroups[e][t]){var n=r.mediaGroups[e][t][i];n.uri&&(n.resolvedUri=(0,a.default)(r.uri,n.uri))}})};t.resolveMediaGroupUris=f;var p=function(e,t){var i=e.segments[e.segments.length-1];return t&&i&&i.duration?1e3*i.duration:500*(e.targetDuration||10)};t.refreshDelay=p;var m=function(e){function r(e,t,i){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=a,i=s,n=!0,o=d=void 0}}(Object.getPrototypeOf(r.prototype),"constructor",this).call(this),this.srcUrl=e,this.hls_=t,this.withCredentials=i,!this.srcUrl)throw new Error("A non-empty playlist URL is required");this.state="HAVE_NOTHING",this.on("mediaupdatetimeout",function(){"HAVE_METADATA"===n.state&&(n.state="HAVE_CURRENT_METADATA",n.request=n.hls_.xhr({uri:(0,a.default)(n.master.uri,n.media().uri),withCredentials:n.withCredentials},function(e,t){if(n.request)return e?n.playlistRequestError(n.request,n.media().uri,"HAVE_METADATA"):void n.haveMetadata(n.request,n.media().uri)}))})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,s.EventTarget),n(r,[{key:"playlistRequestError",value:function(e,t,i){this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[t],status:e.status,message:"HLS playlist request error at URL: "+t,responseText:e.responseText,code:500<=e.status?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(e,t){var i=this;this.request=null,this.state="HAVE_METADATA";var n=new o.default.Parser;n.push(e.responseText),n.end(),n.manifest.uri=t,n.manifest.attributes=n.manifest.attributes||{};var r=c(this.master,n.manifest);this.targetDuration=n.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[n.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(u.default.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=u.default.setTimeout(function(){i.trigger("mediaupdatetimeout")},p(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),u.default.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}},{key:"media",value:function(i){var n=this;if(!i)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var r=this.state;if("string"==typeof i){if(!this.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.master.playlists[i]}var e=!this.media_||i.uri!==this.media_.uri;if(this.master.playlists[i.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=i,void(e&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(e){if(this.state="SWITCHING_MEDIA",this.request){if((0,a.default)(this.master.uri,i.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:(0,a.default)(this.master.uri,i.uri),withCredentials:this.withCredentials},function(e,t){if(n.request){if(e)return n.playlistRequestError(n.request,i.uri,r);n.haveMetadata(t,i.uri),"HAVE_MASTER"===r?n.trigger("loadedmetadata"):n.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),u.default.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(e){var t=this;u.default.clearTimeout(this.mediaUpdateTimeout);var i=this.media();if(e){var n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=u.default.setTimeout(function(){return t.load()},n)}else this.started?i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var n=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,t){if(n.request){if(n.request=null,e)return n.error={status:t.status,message:"HLS playlist request error at URL: "+n.srcUrl,responseText:t.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");var i=new o.default.Parser;return i.push(t.responseText),i.end(),n.state="HAVE_MASTER",i.manifest.uri=n.srcUrl,i.manifest.playlists?(n.master=i.manifest,h(n.master),f(n.master),n.trigger("loadedplaylist"),void(n.request||n.media(i.manifest.playlists[0]))):(n.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:u.default.location.href,playlists:[{uri:n.srcUrl}]},n.master.playlists[n.srcUrl]=n.master.playlists[0],n.master.playlists[0].resolvedUri=n.srcUrl,n.master.playlists[0].attributes=n.master.playlists[0].attributes||{},n.haveMetadata(t,n.srcUrl),n.trigger("loadedmetadata"))}})}}]),r}();t.default=m},"./node_modules/videojs-contrib-hls/es5/playlist-selectors.js":function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var g=n(i("./node_modules/videojs-contrib-hls/es5/config.js")),y=n(i("./node_modules/videojs-contrib-hls/es5/playlist.js")),r=i("./node_modules/videojs-contrib-hls/es5/util/codecs.js"),a=function(e,t){var i;return e&&(i=window.getComputedStyle(e))?i[t]:""},v=function(e,n){var r=e.slice();e.sort(function(e,t){var i=n(e,t);return 0===i?r.indexOf(e)-r.indexOf(t):i})},f=function(e,t){var i=void 0,n=void 0;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||window.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),i-(n=n||window.Number.MAX_VALUE)};t.comparePlaylistBandwidth=f;t.comparePlaylistResolution=function(e,t){var i=void 0,n=void 0;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||window.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),i===(n=n||window.Number.MAX_VALUE)&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-n};var s=function(e,t,i,n){var r=e.playlists.map(function(e){var t,i;return t=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,i=e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height,{bandwidth:e.attributes.BANDWIDTH||window.Number.MAX_VALUE,width:t,height:i,playlist:e}});v(r,function(e,t){return e.bandwidth-t.bandwidth});var a=(r=r.filter(function(e){return!y.default.isIncompatible(e.playlist)})).filter(function(e){return y.default.isEnabled(e.playlist)});a.length||(a=r.filter(function(e){return!y.default.isDisabled(e.playlist)}));var s=a.filter(function(e){return e.bandwidth*g.default.BANDWIDTH_VARIANCE<t}),o=s[s.length-1],u=s.filter(function(e){return e.bandwidth===o.bandwidth})[0],d=s.filter(function(e){return e.width&&e.height});v(d,function(e,t){return e.width-t.width});var l=d.filter(function(e){return e.width===i&&e.height===n});o=l[l.length-1];var c=l.filter(function(e){return e.bandwidth===o.bandwidth})[0],h=void 0,f=void 0,p=void 0;c||(f=(h=d.filter(function(e){return e.width>i||e.height>n})).filter(function(e){return e.width===h[0].width&&e.height===h[0].height}),o=f[f.length-1],p=f.filter(function(e){return e.bandwidth===o.bandwidth})[0]);var m=p||c||u||a[0]||r[0];return m?m.playlist:null};t.simpleSelector=s;t.lastBandwidthSelector=function(){return s(this.playlists.master,this.systemBandwidth,parseInt(a(this.tech_.el(),"width"),10),parseInt(a(this.tech_.el(),"height"),10))};t.movingAverageBandwidthSelector=function(e){var t=-1;if(e<0||1<e)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){return t<0&&(t=this.systemBandwidth),t=e*this.systemBandwidth+(1-e)*t,s(this.playlists.master,t,parseInt(a(this.tech_.el(),"width"),10),parseInt(a(this.tech_.el(),"height"),10))}};t.minRebufferMaxBandwidthSelector=function(e){var t=e.master,i=e.currentTime,n=e.bandwidth,r=e.duration,a=e.segmentDuration,s=e.timeUntilRebuffer,o=e.currentTimeline,u=e.syncController,d=t.playlists.filter(function(e){return!y.default.isIncompatible(e)}),l=d.filter(y.default.isEnabled);l.length||(l=d.filter(function(e){return!y.default.isDisabled(e)}));var c=l.filter(y.default.hasAttribute.bind(null,"BANDWIDTH")).map(function(e){var t=u.getSyncPoint(e,r,o,i)?1:2;return{playlist:e,rebufferingImpact:y.default.estimateSegmentRequestTime(a,n,e)*t-s}}),h=c.filter(function(e){return e.rebufferingImpact<=0});return v(h,function(e,t){return f(t.playlist,e.playlist)}),h.length?h[0]:(v(c,function(e,t){return e.rebufferingImpact-t.rebufferingImpact}),c[0]||null)};t.lowestBitrateCompatibleVariantSelector=function(){var e=this.playlists.master.playlists.filter(y.default.isEnabled);return v(e,function(e,t){return f(e,t)}),e.filter(function(e){return(0,r.parseCodecs)(e.attributes.CODECS).videoCodec})[0]||null}},"./node_modules/videojs-contrib-hls/es5/playlist.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i("./node_modules/video.js/es5/video.js"),a=i("./node_modules/global/window.js"),s=(n=a)&&n.__esModule?n:{default:n},o=function(e,t,i){var n,r;return void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence?0:(n=function(e,t){var i=0,n=t-e.mediaSequence,r=e.segments[n];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;n--;){if(void 0!==(r=e.segments[n]).end)return{result:i+r.end,precise:!0};if(i+=r.duration,void 0!==r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}}(e,t)).precise?n.result:(r=function(e,t){for(var i=0,n=void 0,r=t-e.mediaSequence;r<e.segments.length;r++){if(void 0!==(n=e.segments[r]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(e,t)).precise?r.result:n.result+i},u=function(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return s.default.Infinity}return o(e,t,i)};t.duration=u;var d=function(e,t,i){var n=0;if(i<t){var r=[i,t];t=r[0],i=r[1]}if(t<0){for(var a=t;a<Math.min(0,i);a++)n+=e.targetDuration;t=0}for(a=t;a<i;a++)n+=e.segments[a].duration;return n};t.sumDurations=d;var l=function(e){if(!e.segments.length)return 0;for(var t=e.segments.length-1,i=e.segments[t].duration||e.targetDuration,n=i+2*e.targetDuration;t--&&!(n<=(i+=e.segments[t].duration)););return Math.max(0,t)};t.safeLiveIndex=l;var c=function(e,t,i){if(!e||!e.segments)return null;if(e.endList)return u(e);if(null===t)return null;t=t||0;var n=i?l(e):e.segments.length;return o(e,e.mediaSequence+n,t)};t.playlistEnd=c;var h=function(e,t){var i=t||0,n=c(e,t,!0);return null===n?(0,r.createTimeRange)():(0,r.createTimeRange)(i,n)};t.seekable=h;var f=function(e){return e-Math.floor(e)==0},p=function(e,t){if(f(t))return t+.1*e;for(var i=t.toString().split(".")[1].length,n=1;n<=i;n++){var r=Math.pow(10,n),a=t*r;if(f(a)||n===i)return(a+e)/r}},m=p.bind(null,1),g=p.bind(null,-1),y=function(e,t,i,n){var r=void 0,a=void 0,s=e.segments.length,o=t-n;if(o<0){if(0<i)for(r=i-1;0<=r;r--)if(a=e.segments[r],0<(o+=g(a.duration)))return{mediaIndex:r,startTime:n-d(e,i,r)};return{mediaIndex:0,startTime:t}}if(i<0){for(r=i;r<0;r++)if((o-=e.targetDuration)<0)return{mediaIndex:0,startTime:t};i=0}for(r=i;r<s;r++)if(a=e.segments[r],(o-=m(a.duration))<0)return{mediaIndex:r,startTime:n+d(e,i,r)};return{mediaIndex:s-1,startTime:t}};t.getMediaInfoForTime=y;var v=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()};t.isBlacklisted=v;var _=function(e){return e.excludeUntil&&e.excludeUntil===1/0};t.isIncompatible=_;var b=function(e){var t=v(e);return!e.disabled&&!t};t.isEnabled=b;var T=function(e){return e.disabled};t.isDisabled=T;var S=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1};t.isAes=S;var k=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].map)return!0;return!1};t.isFmp4=k;var w=function(e,t){return t.attributes&&t.attributes[e]};t.hasAttribute=w;var E=function(e,t,i){var n=arguments.length<=3||void 0===arguments[3]?0:arguments[3];return w("BANDWIDTH",i)?(e*i.attributes.BANDWIDTH-8*n)/t:NaN};t.estimateSegmentRequestTime=E;var j=function(e,t){if(1===e.playlists.length)return!0;var i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter(function(e){return!!b(e)&&(e.attributes.BANDWIDTH||0)<i}).length};t.isLowestEnabledRendition=j,t.default={duration:u,seekable:h,safeLiveIndex:l,getMediaInfoForTime:y,isEnabled:b,isDisabled:T,isBlacklisted:v,isIncompatible:_,playlistEnd:c,isAes:S,isFmp4:k,hasAttribute:w,estimateSegmentRequestTime:E,isLowestEnabledRendition:j}},"./node_modules/videojs-contrib-hls/es5/ranges.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var f=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};var n,r=i("./node_modules/video.js/es5/video.js"),p=(n=r)&&n.__esModule?n:{default:n},a=1/30,s=function(e,t){var i=[],n=void 0;if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return p.default.createTimeRanges(i)},m=function(e,t){var i=null,n=null,r=0,a=[],s=[];if(!(e&&e.length&&t&&t.length))return p.default.createTimeRange();for(var o=e.length;o--;)a.push({time:e.start(o),type:"start"}),a.push({time:e.end(o),type:"end"});for(o=t.length;o--;)a.push({time:t.start(o),type:"start"}),a.push({time:t.end(o),type:"end"});for(a.sort(function(e,t){return e.time-t.time}),o=0;o<a.length;o++)"start"===a[o].type?2===++r&&(i=a[o].time):"end"===a[o].type&&1===--r&&(n=a[o].time),null!==i&&null!==n&&(s.push([i,n]),n=i=null);return p.default.createTimeRanges(s)};t.default={findRange:function(e,i){return s(e,function(e,t){return e-a<=i&&i<=t+a})},findNextRange:function(e,t){return s(e,function(e){return t<=e-a})},findGaps:function(e){if(e.length<2)return p.default.createTimeRanges();for(var t=[],i=1;i<e.length;i++){var n=e.end(i-1),r=e.start(i);t.push([n,r])}return p.default.createTimeRanges(t)},findSoleUncommonTimeRangesEnd:function(e,t){var i=void 0,n=void 0,r=void 0,a=[],s=[],o=function(e){return e[0]<=r&&e[1]>=r};if(e)for(i=0;i<e.length;i++)n=e.start(i),r=e.end(i),s.push([n,r]);if(t)for(i=0;i<t.length;i++)n=t.start(i),r=t.end(i),s.some(o)||a.push(r);return 1!==a.length?null:a[0]},getSegmentBufferedPercent:function(e,t,i,n){var r,a,s,o,u,d=e+t,l=p.default.createTimeRanges([[e,d]]),c=p.default.createTimeRanges([[(r=e,a=[i,d],s=f(a,2),o=s[0],u=s[1],Math.min(Math.max(o,r),u)),d]]);if(c.start(0)===c.end(0))return 0;var h=function(e,t,i,n){for(var r=t.end(0)-t.start(0),a=r-(e.end(0)-e.start(0)),s=m(e,n),o=m(t,n),u=0,d=0,l=s.length;l--;)u+=s.end(l)-s.start(l),s.start(l)===i&&(u+=a);for(l=o.length;l--;)d+=o.end(l)-o.start(l);return Math.max(u,d)/r*100}(c,l,i,n);return isNaN(h)||h===1/0||h===-1/0?0:h},TIME_FUDGE_FACTOR:a,SAFE_TIME_DELTA:.1,printableRange:function(e){var t=[];if(!e||!e.length)return"";for(var i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")},timeUntilRebuffer:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?1:arguments[2];return((e.length?e.end(e.length-1):0)-t)/i}},e.exports=t.default},"./node_modules/videojs-contrib-hls/es5/reload-source-on-error.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i("./node_modules/video.js/es5/video.js"),l=(n=r)&&n.__esModule?n:{default:n},c={errorInterval:30,getSource:function(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}};t.default=function(e){!function t(i,e){var n=0,r=0,a=l.default.mergeOptions(c,e);i.ready(function(){i.trigger({type:"usage",name:"hls-error-reload-initialized"})});var s=function(){r&&i.currentTime(r)},o=function(e){null!=e&&(r=i.duration()!==1/0&&i.currentTime()||0,i.one("loadedmetadata",s),i.src(e),i.trigger({type:"usage",name:"hls-error-reload"}),i.play())},u=function(){if(Date.now()-n<1e3*a.errorInterval)i.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(a.getSource&&"function"==typeof a.getSource)return n=Date.now(),a.getSource.call(i,o);l.default.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},d=function e(){i.off("loadedmetadata",s),i.off("error",u),i.off("dispose",e)};i.on("error",u),i.on("dispose",d),i.reloadSourceOnError=function(e){d(),t(i,e)}}(this,e)},e.exports=t.default},"./node_modules/videojs-contrib-hls/es5/rendition-mixin.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=i("./node_modules/videojs-contrib-hls/es5/playlist.js"),n=function e(t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r,a,s,o=t.masterPlaylistController_.fastQualityChange_.bind(t.masterPlaylistController_);if(i.attributes.RESOLUTION){var u=i.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=i.attributes.BANDWIDTH,this.id=n,this.enabled=(r=t.playlists,a=i.uri,s=o,function(e){var t=r.master.playlists[a],i=(0,d.isIncompatible)(t),n=(0,d.isEnabled)(t);return void 0===e?n:(e?delete t.disabled:t.disabled=!0,e===n||i||(s(),e?r.trigger("renditionenabled"):r.trigger("renditiondisabled")),e)})};t.default=function(i){var e=i.playlists;i.representations=function(){return e.master.playlists.filter(function(e){return!(0,d.isIncompatible)(e)}).map(function(e,t){return new n(i,e,e.uri)})}},e.exports=t.default},"./node_modules/videojs-contrib-hls/es5/resolve-url.js":function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(i("./node_modules/url-toolkit/src/url-toolkit.js")),a=n(i("./node_modules/global/window.js"));t.default=function(e,t){return/^[a-z]+:/i.test(t)?t:(/\/\//i.test(e)||(e=r.default.buildAbsoluteURL(a.default.location.href,e)),r.default.buildAbsoluteURL(e,t))},e.exports=t.default},"./node_modules/videojs-contrib-hls/es5/segment-loader.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function n(e){return e&&e.__esModule?e:{default:e}}var c=n(i("./node_modules/videojs-contrib-hls/es5/playlist.js")),a=n(i("./node_modules/video.js/es5/video.js")),s=n(i("./node_modules/videojs-contrib-hls/es5/source-updater.js")),d=n(i("./node_modules/videojs-contrib-hls/es5/config.js")),o=n(i("./node_modules/global/window.js")),u=n(i("./node_modules/videojs-contrib-media-sources/es5/remove-cues-from-track.js")),l=i("./node_modules/videojs-contrib-hls/es5/bin-utils.js"),h=i("./node_modules/videojs-contrib-hls/es5/media-segment-request.js"),f=i("./node_modules/videojs-contrib-hls/es5/ranges.js"),p=i("./node_modules/videojs-contrib-hls/es5/playlist-selectors.js"),m=function(e,t,i){if(!e||!t)return!1;var n=i===e.segments.length;return e.endList&&"open"===t.readyState&&n},g=function(e){return"number"==typeof e&&isFinite(e)},y=function(e,t,i){return"main"===e&&t&&i?i.containsAudio||i.containsVideo?t.containsVideo&&!i.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.containsVideo&&i.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null};t.illegalMediaSwitch=y;var v=function(e,t,i){var n=void 0;return n=e.length&&0<e.start(0)&&e.start(0)<t?e.start(0):t-30,Math.min(n,t-i)};t.safeBackBufferTrimTime=v;var _=function(e){function n(e){var t=this,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=a,i=s,n=!0,o=d=void 0}}(Object.getPrototypeOf(n.prototype),"constructor",this).call(this),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.state="INIT",this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.hls_=e.hls,this.loaderType_=e.loaderType,this.startingMedia_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.mimeType_=null,this.sourceUpdater_=null,this.xhrOptions_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.syncController_.on("syncinfoupdate",function(){return t.trigger("syncinfoupdate")}),this.mediaSource_.addEventListener("sourceopen",function(){return t.ended_=!1}),this.fetchAtBuffer_=!1,i.debug&&(this.logger_=a.default.log.bind(a.default,"segment-loader",this.loaderType_,"->"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,a["default"].EventTarget),r(n,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(e){return void 0!==e&&(this.error_=e),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():a.default.createTimeRanges()}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var i=(0,l.initSegmentId)(e),n=this.initSegments_[i];return t&&!n&&e.bytes&&(this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes}),n||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new s.default(this.mediaSource_,this.mimeType_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(e){var i=this.playlist_,n=this.pendingSegment_;if(this.playlist_=e,this.xhrOptions_=t,this.hasPlayed_()||(e.syncInfo={mediaSequence:e.mediaSequence,time:0}),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(i&&i.uri===e.uri){var r=e.mediaSequence-i.mediaSequence;this.logger_("mediaSequenceDiff",r),null!==this.mediaIndex&&(this.mediaIndex-=r),n&&(n.mediaIndex-=r,0<=n.mediaIndex&&(n.segment=e.segments[n.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,e)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(o.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(e){this.mimeType_||(this.mimeType_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_()),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(e,t){this.sourceUpdater_&&this.sourceUpdater_.remove(e,t),(0,u.default)(e,t,this.segmentMetadataTrack_)}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&o.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=o.default.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&o.default.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=o.default.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e)m(this.playlist_,this.mediaSource_,e.mediaIndex)?this.endOfStream():(e.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((e.timeline!==this.currentTimeline_||null!==e.startOfSegment&&e.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),e.timestampOffset=e.startOfSegment),this.loadSegment_(e))}}},{key:"checkBuffer_",value:function(e,t,i,n,r,a){var s=0,o=void 0;e.length&&(s=e.end(e.length-1));var u,d=Math.max(0,s-r);if(!t.segments.length)return null;if(d>=this.goalBufferLength_())return null;if(!n&&1<=d)return null;if(this.logger_("checkBuffer_","mediaIndex:",i,"hasPlayed:",n,"currentTime:",r,"syncPoint:",a,"fetchAtBuffer:",this.fetchAtBuffer_,"bufferedTime:",d),null===a)return i=this.getSyncSegmentCandidate_(t),this.logger_("getSync","mediaIndex:",i),this.generateSegmentInfo_(t,i,null,!0);if(null!==i){this.logger_("walkForward","mediaIndex:",i+1);var l=t.segments[i];return o=l&&l.end?l.end:s,this.generateSegmentInfo_(t,i+1,o,!1)}this.fetchAtBuffer_?(i=(u=c.default.getMediaInfoForTime(t,s,a.segmentIndex,a.time)).mediaIndex,o=u.startTime):(i=(u=c.default.getMediaInfoForTime(t,r,a.segmentIndex,a.time)).mediaIndex,o=u.startTime);return this.logger_("getMediaIndexForTime","mediaIndex:",i,"startOfSegment:",o),this.generateSegmentInfo_(t,i,o,!1)}},{key:"getSyncSegmentCandidate_",value:function(e){var t=this;if(-1===this.currentTimeline_)return 0;var i=e.segments.map(function(e,t){return{timeline:e.timeline,segmentIndex:t}}).filter(function(e){return e.timeline===t.currentTimeline_});return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(e.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(e,t,i,n){if(t<0||t>=e.segments.length)return null;var r=e.segments[t];return{requestId:"segment-loader-"+Math.random(),uri:r.resolvedUri,mediaIndex:t,isSyncRequest:n,startOfSegment:i,playlist:e,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:r.timeline,duration:r.duration,segment:r}}},{key:"abortRequestEarly_",value:function(e){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return!1;var t=this.currentTime_(),i=e.bandwidth,n=this.pendingSegment_.duration,r=c.default.estimateSegmentRequestTime(n,i,this.playlist_,e.bytesReceived),a=(0,f.timeUntilRebuffer)(this.buffered_(),t,this.hls_.tech_.playbackRate())-1;if(r<=a)return!1;var s=(0,p.minRebufferMaxBandwidthSelector)({master:this.hls_.playlists.master,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(s){var o=r-a-s.rebufferingImpact,u=.5;return a<=f.TIME_FUDGE_FACTOR&&(u=1),!s.playlist||s.playlist.uri===this.playlist_.uri||o<u?!1:(this.bandwidth=s.playlist.attributes.BANDWIDTH*d.default.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(e,t){this.pendingSegment_&&t.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(t.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),e.abortRequests=(0,h.mediaSegmentRequest)(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.createSimplifiedSegmentObj_(e),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(e){var t=v(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);0<t&&this.remove(0,t)}},{key:"createSimplifiedSegmentObj_",value:function(e){var t=e.segment,i={resolvedUri:t.resolvedUri,byterange:t.byterange,requestId:e.requestId};if(t.key){var n=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);i.key={resolvedUri:t.key.resolvedUri,iv:n}}return t.map&&(i.map=this.initSegment(t.map)),i}},{key:"segmentRequestFinished_",value:function(e,t){if(this.mediaRequests+=1,t.stats&&(this.mediaBytesTransferred+=t.stats.bytesReceived,this.mediaTransferDuration+=t.stats.roundTripTime),this.pendingSegment_){if(t.requestId===this.pendingSegment_.requestId){if(e)return this.pendingSegment_=null,this.state="READY",e.code===h.REQUEST_ERRORS.ABORTED?void(this.mediaRequestsAborted+=1):(this.pause(),e.code===h.REQUEST_ERRORS.TIMEOUT?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error")));this.bandwidth=t.stats.bandwidth,this.roundTrip=t.stats.roundTripTime,t.map&&(t.map=this.initSegment(t.map,!0)),this.processSegmentResponse_(t)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(e){var t=this.pendingSegment_;t.bytes=e.bytes,e.map&&(t.segment.map.bytes=e.map.bytes),t.endOfAllRequests=e.endOfAllRequests,this.handleSegment_()}},{key:"handleSegment_",value:function(){var i=this;if(this.pendingSegment_){var e=this.pendingSegment_,n=e.segment,t=this.syncController_.probeSegmentInfo(e);void 0===this.startingMedia_&&t&&(t.containsAudio||t.containsVideo)&&(this.startingMedia_={containsAudio:t.containsAudio,containsVideo:t.containsVideo});var r=y(this.loaderType_,this.startingMedia_,t);if(r)return this.error({message:r,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var a=this.syncController_.mappingForTimeline(e.timeline);null!==a&&this.trigger({type:"segmenttimemapping",mapping:a}),this.state="APPENDING",n.map&&function(){var e=(0,l.initSegmentId)(n.map);if(!i.activeInitSegmentId_||i.activeInitSegmentId_!==e){var t=i.initSegment(n.map);i.sourceUpdater_.appendBuffer(t.bytes,function(){i.activeInitSegmentId_=e})}}(),e.byteLength=e.bytes.byteLength,"number"==typeof n.start&&"number"==typeof n.end?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration,this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(this.logger_("handleUpdateEnd_","segmentInfo:",this.pendingSegment_),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_,t=e.segment,i=null!==this.mediaIndex;(this.pendingSegment_=null,this.recordThroughput_(e),this.addSegmentMetadataCue_(e),this.state="READY",this.mediaIndex=e.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate"),t.end&&this.currentTime_()-t.end>3*e.playlist.targetDuration)?this.resetEverything():(i&&this.trigger("bandwidthupdate"),this.trigger("progress"),m(e.playlist,this.mediaSource_,e.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(e){var t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}},{key:"logger_",value:function(){}},{key:"addSegmentMetadataCue_",value:function(e){if(this.segmentMetadataTrack_){var t=e.segment,i=t.start,n=t.end;if(g(i)&&g(n)){(0,u.default)(i,n,this.segmentMetadataTrack_);var r=o.default.WebKitDataCue||o.default.VTTCue,a={bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.uri,start:i,end:n},s=new r(i,n,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}}}}]),n}();t.default=_},"./node_modules/videojs-contrib-hls/es5/source-updater.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();var r,a=i("./node_modules/video.js/es5/video.js"),s=(r=a)&&r.__esModule?r:{default:r},o=function(){},u=function(){function r(e,t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=function(){i.sourceBuffer_=e.addSourceBuffer(t),i.onUpdateendCallback_=function(){var e=i.pendingCallback_;i.pendingCallback_=null,e&&e(),i.runCallback_()},i.sourceBuffer_.addEventListener("updateend",i.onUpdateendCallback_),i.runCallback_()};this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,"closed"===e.readyState?e.addEventListener("sourceopen",n):n()}return n(r,[{key:"abort",value:function(e){var t=this;this.processedAppend_&&this.queueCallback_(function(){t.sourceBuffer_.abort()},e)}},{key:"appendBuffer",value:function(e,t){var i=this;this.processedAppend_=!0,this.queueCallback_(function(){i.sourceBuffer_.appendBuffer(e)},t)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:s.default.createTimeRanges()}},{key:"remove",value:function(e,t){var i=this;this.processedAppend_&&this.queueCallback_(function(){i.sourceBuffer_.remove(e,t)},o)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(e){var t=this;return void 0!==e&&(this.queueCallback_(function(){t.sourceBuffer_.timestampOffset=e}),this.timestampOffset_=e),this.timestampOffset_}},{key:"queueCallback_",value:function(e,t){this.callbacks_.push([e.bind(this),t]),this.runCallback_()}},{key:"runCallback_",value:function(){var e=void 0;!this.updating()&&this.callbacks_.length&&(e=this.callbacks_.shift(),this.pendingCallback_=e[1],e[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),r}();t.default=u,e.exports=t.default},"./node_modules/videojs-contrib-hls/es5/sync-controller.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var a=r(i("./node_modules/mux.js/lib/mp4/probe.js")),s=i("./node_modules/mux.js/lib/tools/ts-inspector.js"),d=i("./node_modules/videojs-contrib-hls/es5/playlist.js"),o=r(i("./node_modules/video.js/es5/video.js")),u=[{name:"VOD",run:function(e,t,i,n,r){if(i===1/0)return null;return{time:0,segmentIndex:0}}},{name:"ProgramDateTime",run:function(e,t,i,n,r){return e.datetimeToDisplayTime&&t.dateTimeObject?{time:t.dateTimeObject.getTime()/1e3+e.datetimeToDisplayTime,segmentIndex:0}:null}},{name:"Segment",run:function(e,t,i,n,r){var a=t.segments||[],s=null,o=null;r=r||0;for(var u=0;u<a.length;u++){var d=a[u];if(d.timeline===n&&void 0!==d.start){var l=Math.abs(r-d.start);if(null!==o&&o<l)break;(!s||null===o||l<=o)&&(o=l,s={time:d.start,segmentIndex:u})}}return s}},{name:"Discontinuity",run:function(e,t,i,n,r){var a=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var s=null,o=0;o<t.discontinuityStarts.length;o++){var u=t.discontinuityStarts[o],d=t.discontinuitySequence+o+1,l=e.discontinuities[d];if(l){var c=Math.abs(r-l.time);if(null!==s&&s<c)break;(!a||null===s||c<=s)&&(s=c,a={time:l.time,segmentIndex:u})}}return a}},{name:"Playlist",run:function(e,t,i,n,r){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence}:null}}];t.syncPointStrategies=u;var l=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=a,i=s,n=!0,o=d=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.inspectCache_=void 0,this.timelines=[],this.discontinuities=[],this.datetimeToDisplayTime=null,e.debug&&(this.logger_=o.default.log.bind(o.default,"sync-controller ->"))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"].EventTarget),n(t,[{key:"getSyncPoint",value:function(e,t,i,n){var r=this.runStrategies_(e,t,i,n);return r.length?this.selectSyncPoint_(r,{key:"time",value:n}):null}},{key:"getExpiredTime",value:function(e,t){if(!e||!e.segments)return null;var i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;var n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return 0<n.segmentIndex&&(n.time*=-1),Math.abs(n.time+(0,d.sumDurations)(e,n.segmentIndex,0))}},{key:"runStrategies_",value:function(e,t,i,n){for(var r=[],a=0;a<u.length;a++){var s=u[a],o=s.run(this,e,t,i,n);o&&(o.strategy=s.name,r.push({strategy:s.name,syncPoint:o}),this.logger_("syncPoint found via <"+s.name+">:",o))}return r}},{key:"selectSyncPoint_",value:function(e,t){for(var i=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy,a=1;a<e.length;a++){var s=Math.abs(e[a].syncPoint[t.key]-t.value);s<n&&(n=s,i=e[a].syncPoint,r=e[a].strategy)}return this.logger_("syncPoint with strategy <"+r+"> chosen: ",i),i}},{key:"saveExpiredSegmentInfo",value:function(e,t){for(var i=t.mediaSequence-e.mediaSequence-1;0<=i;i--){var n=e.segments[i];if(n&&void 0!==n.start){t.syncInfo={mediaSequence:e.mediaSequence+i,time:n.start},this.logger_("playlist sync:",t.syncInfo),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(e){if(!this.datetimeToDisplayTime&&e.dateTimeObject){var t=e.dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-t}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(e){var t=e.segment,i=e.playlist,n=void 0;return(n=t.map?this.probeMp4Segment_(e):this.probeTsSegment_(e))&&this.calculateSegmentTimeMapping_(e,n)&&(this.saveDiscontinuitySyncInfo_(e),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:t.start})),n}},{key:"probeMp4Segment_",value:function(e){var t=e.segment,i=a.default.timescale(t.map.bytes),n=a.default.startTime(i,e.bytes);return null!==e.timestampOffset&&(e.timestampOffset-=n),{start:n,end:n+t.duration}}},{key:"probeTsSegment_",value:function(e){var t=(0,s.inspect)(e.bytes,this.inspectCache_),i=void 0,n=void 0;return t?(t.video&&2===t.video.length?(this.inspectCache_=t.video[1].dts,i=t.video[0].dtsTime,n=t.video[1].dtsTime):t.audio&&2===t.audio.length&&(this.inspectCache_=t.audio[1].dts,i=t.audio[0].dtsTime,n=t.audio[1].dtsTime),{start:i,end:n,containsVideo:t.video&&2===t.video.length,containsAudio:t.audio&&2===t.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].time}},{key:"mappingForTimeline",value:function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}},{key:"calculateSegmentTimeMapping_",value:function(e,t){var i=e.segment,n=this.timelines[e.timeline];if(null!==e.timestampOffset)this.logger_("tsO:",e.timestampOffset),n={time:e.startOfSegment,mapping:e.startOfSegment-t.start},this.timelines[e.timeline]=n,this.trigger("timestampoffset"),i.start=e.startOfSegment,i.end=t.end+n.mapping;else{if(!n)return!1;i.start=t.start+n.mapping,i.end=t.end+n.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(e){var t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts.length)for(var n=0;n<t.discontinuityStarts.length;n++){var r=t.discontinuityStarts[n],a=t.discontinuitySequence+n+1,s=r-e.mediaIndex,o=Math.abs(s);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>o){var u=void 0;u=s<0?i.start-(0,d.sumDurations)(t,e.mediaIndex,r):i.end+(0,d.sumDurations)(t,e.mediaIndex+1,r),this.discontinuities[a]={time:u,accuracy:o}}}}},{key:"logger_",value:function(){}}]),t}();t.default=l},"./node_modules/videojs-contrib-hls/es5/util/codecs.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.parseCodecs=function(){var e,t=arguments.length<=0||void 0===arguments[0]?"":arguments[0],i={codecCount:0};return i.codecCount=t.split(",").length,i.codecCount=i.codecCount||2,(e=/(^|\s|,)+(avc1)([^ ,]*)/i.exec(t))&&(i.videoCodec=e[2],i.videoObjectTypeIndicator=e[3]),i.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(t),i.audioProfile=i.audioProfile&&i.audioProfile[2],i}},"./node_modules/videojs-contrib-hls/es5/videojs-contrib-hls.js":function(e,t,i){"use strict";var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),s=function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=a,i=s,n=!0,o=d=void 0}};function r(e){return e&&e.__esModule?e:{default:e}}var o=r(i("./node_modules/global/document.js")),a=r(i("./node_modules/videojs-contrib-hls/es5/playlist-loader.js")),u=r(i("./node_modules/videojs-contrib-hls/es5/playlist.js")),d=r(i("./node_modules/videojs-contrib-hls/es5/xhr.js")),l=i("./node_modules/aes-decrypter/es5/index.js"),c=r(i("./node_modules/videojs-contrib-hls/es5/bin-utils.js")),h=i("./node_modules/videojs-contrib-media-sources/es5/videojs-contrib-media-sources.js"),f=r(i("./node_modules/m3u8-parser/es5/index.js")),p=r(i("./node_modules/video.js/es5/video.js")),m=i("./node_modules/videojs-contrib-hls/es5/master-playlist-controller.js"),g=r(i("./node_modules/videojs-contrib-hls/es5/config.js")),y=r(i("./node_modules/videojs-contrib-hls/es5/rendition-mixin.js")),v=r(i("./node_modules/global/window.js")),_=r(i("./node_modules/videojs-contrib-hls/es5/playback-watcher.js")),b=r(i("./node_modules/videojs-contrib-hls/es5/reload-source-on-error.js")),T=i("./node_modules/videojs-contrib-hls/es5/playlist-selectors.js"),S={PlaylistLoader:a.default,Playlist:u.default,Decrypter:l.Decrypter,AsyncStream:l.AsyncStream,decrypt:l.decrypt,utils:c.default,STANDARD_PLAYLIST_SELECTOR:T.lastBandwidthSelector,INITIAL_PLAYLIST_SELECTOR:T.lowestBitrateCompatibleVariantSelector,comparePlaylistBandwidth:T.comparePlaylistBandwidth,comparePlaylistResolution:T.comparePlaylistResolution,xhr:(0,d.default)()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(S,t,{get:function(){return p.default.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),g.default[t]},set:function(e){p.default.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?p.default.log.warn("value of Hls."+t+" must be greater than or equal to 0"):g.default[t]=e}})});var k=function(e,t){for(var i=t.media(),n=-1,r=0;r<e.length;r++)if(e[r].id===i.uri){n=r;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})};S.canPlaySource=function(){return p.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")},S.supportsNativeHls=function(){var t=o.default.createElement("video");if(!p.default.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))})}(),S.isSupported=function(){return p.default.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var w=p.default.getComponent("Component"),E=function(e){function a(e,t,i){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),s(Object.getPrototypeOf(a.prototype),"constructor",this).call(this,t,i.hls),t.options_&&t.options_.playerId){var r=(0,p.default)(t.options_.playerId);r.hasOwnProperty("hls")||Object.defineProperty(r,"hls",{get:function(){return p.default.log.warn("player.hls is deprecated. Use player.tech_.hls instead."),t.trigger({type:"usage",name:"hls-player-access"}),n}})}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");this.on(o.default,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var t=o.default.fullscreenElement||o.default.webkitFullscreenElement||o.default.mozFullScreenElement||o.default.msFullscreenElement;t&&t.contains(n.tech_.el())&&n.masterPlaylistController_.fastQualityChange_()}),this.on(this.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,w),n(a,[{key:"setOptions_",value:function(){var t=this;this.options_.withCredentials=this.options_.withCredentials||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=4194304),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&4194304===this.options_.bandwidth,["withCredentials","bandwidth"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.bandwidth=this.options_.bandwidth}},{key:"src",value:function(e){var t=this;e&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=S,this.masterPlaylistController_=new m.MasterPlaylistController(this.options_),this.playbackWatcher_=new _.default(p.default.mergeOptions(this.options_,{seekable:function(){return t.seekable()}})),this.masterPlaylistController_.on("error",function(){p.default.players[t.tech_.options_.playerId].error(t.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):S.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=S.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(e){this.masterPlaylistController_.selectPlaylist=e.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=e,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(e){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=e,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var e=1/(this.bandwidth||1),t=void 0;return t=0<this.throughput?1/this.throughput:0,Math.floor(1/(e+t))},set:function(){p.default.log.error('The "systemBandwidth" property is read-only')}}}),Object.defineProperties(this.stats,{bandwidth:{get:function(){return t.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return t.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return t.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return t.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return t.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return t.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return t.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return t.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.masterPlaylistController_.on("selectedinitialmedia",function(){(0,y.default)(t)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.tech_.ready(function(){return t.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(p.default.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var i=this,e=p.default.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,e;t=i.qualityLevels_,(e=i).representations().forEach(function(e){t.addQualityLevel(e)}),k(t,e.playlists)}),this.playlists.on("mediachange",function(){k(i.qualityLevels_,i.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(e){this.masterPlaylistController_.setCurrentTime(e)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),s(Object.getPrototypeOf(a.prototype),"dispose",this).call(this)}}]),a}(),j=function n(r){return{canHandleSource:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=p.default.mergeOptions(p.default.options,t);return(!i.hls||!i.hls.mode||i.hls.mode===r)&&n.canPlayType(e.type,i)},handleSource:function(e,t){var i=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=p.default.mergeOptions(p.default.options,i,{hls:{mode:r}});return"flash"===r&&t.setTimeout(function(){t.trigger("loadstart")},1),t.hls=new E(e,t,n),t.hls.xhr=(0,d.default)(),t.hls.src(e.src),t.hls},canPlayType:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=p.default.mergeOptions(p.default.options,t);return n.canPlayType(e,i)?"maybe":""}}};j.canPlayType=function(e,t){if(p.default.browser.IE_VERSION&&p.default.browser.IE_VERSION<=10)return!1;return!(!t.hls.overrideNative&&S.supportsNativeHls)&&/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(e)},void 0!==p.default.MediaSource&&void 0!==p.default.URL||(p.default.MediaSource=h.MediaSource,p.default.URL=h.URL);var O=p.default.getTech("Flash");h.MediaSource.supportsNativeMediaSources()&&p.default.getTech("Html5").registerSourceHandler(j("html5"),0),v.default.Uint8Array&&O&&O.registerSourceHandler(j("flash")),p.default.HlsHandler=E,p.default.HlsSourceHandler=j,p.default.Hls=S,p.default.use||p.default.registerComponent("Hls",S),p.default.m3u8=f.default,p.default.options.hls=p.default.options.hls||{},p.default.registerPlugin?p.default.registerPlugin("reloadSourceOnError",b.default):p.default.plugin("reloadSourceOnError",b.default),e.exports={Hls:S,HlsHandler:E,HlsSourceHandler:j}},"./node_modules/videojs-contrib-hls/es5/vtt-segment-loader.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var a=r(i("./node_modules/videojs-contrib-hls/es5/segment-loader.js")),s=r(i("./node_modules/video.js/es5/video.js")),o=r(i("./node_modules/global/window.js")),u=r(i("./node_modules/videojs-contrib-media-sources/es5/remove-cues-from-track.js")),d=i("./node_modules/videojs-contrib-hls/es5/bin-utils.js"),l=new Uint8Array("\n\n".split("").map(function(e){return e.charCodeAt(0)})),c=function(e){return String.fromCharCode.apply(null,e)},h=function(e){function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=a,i=s,n=!0,o=d=void 0}}(Object.getPrototypeOf(i.prototype),"constructor",this).call(this,e,t),this.mediaSource_=null,this.subtitlesTrack_=null}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a["default"]),n(i,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return s.default.createTimeRanges();var e=this.subtitlesTrack_.cues,t=e[0].startTime,i=e[e.length-1].startTime;return s.default.createTimeRanges([[t,i]])}},{key:"initSegment",value:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];if(!e)return null;var i=(0,d.initSegmentId)(e),n=this.initSegments_[i];if(t&&!n&&e.bytes){var r=l.byteLength+e.bytes.byteLength,a=new Uint8Array(r);a.set(e.bytes),a.set(l,e.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return n||e}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}},{key:"remove",value:function(e,t){(0,u.default)(e,t,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var e=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t=this.skipEmptySegments_(t)){if(null===this.syncController_.timestampOffsetForTimeline(t.timeline)){return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(t)}}},{key:"skipEmptySegments_",value:function(e){for(;e&&e.segment.empty;)e=this.generateSegmentInfo_(e.playlist,e.mediaIndex+1,e.startOfSegment+e.duration,e.isSyncRequest);return e}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var e,i=this.pendingSegment_,n=i.segment;if("function"!=typeof o.default.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var r=(e=function(){t.handleSegment_()},t.state="WAITING_ON_VTTJS",t.subtitlesTrack_.tech_.one("vttjsloaded",e),t.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",e),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")}),{v:void 0});if("object"==typeof r)return r.v}n.requested=!0;try{this.parseVTTCues_(i)}catch(e){return this.error({message:e.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,i.cues.length&&this.remove(i.cues[0].endTime,i.cues[i.cues.length-1].endTime),i.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var e=void 0,i=!1;"function"==typeof o.default.TextDecoder?e=new o.default.TextDecoder("utf8"):(e=o.default.WebVTT.StringDecoder(),i=!0);var n=new o.default.WebVTT.Parser(o.default,o.default.vttjs,e);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=t.cues.push.bind(t.cues),n.ontimestampmap=function(e){return t.timestampmap=e},n.onparsingerror=function(e){s.default.log.warn("Error encountered when parsing cues: "+e.message)},t.segment.map){var r=t.segment.map.bytes;i&&(r=c(r)),n.parse(r)}var a=t.bytes;i&&(a=c(a)),n.parse(a),n.flush()}},{key:"updateTimeMapping_",value:function(e,t,i){var n=e.segment;if(t)if(e.cues.length){var r=e.timestampmap,a=r.MPEGTS/9e4-r.LOCAL+t.mapping;if(e.cues.forEach(function(e){e.startTime+=a,e.endTime+=a}),!i.syncInfo){var s=e.cues[0].startTime,o=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(s,o-n.duration)}}}else n.empty=!0}}]),i}();t.default=h,e.exports=t.default},"./node_modules/videojs-contrib-hls/es5/xhr.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=i("./node_modules/video.js/es5/video.js"),u=(n=o)&&n.__esModule?n:{default:n};t.default=function(){return function e(t,n){t=(0,o.mergeOptions)({timeout:45e3},t);var i=e.beforeRequest||u.default.Hls.xhr.beforeRequest;if(i&&"function"==typeof i){var r=i(t);r&&(t=r)}var a=(0,o.xhr)(t,function(e,t){var i=a.response;!e&&i&&(a.responseTime=Date.now(),a.roundTripTime=a.responseTime-a.requestTime,a.bytesReceived=i.byteLength||i.length,a.bandwidth||(a.bandwidth=Math.floor(a.bytesReceived/a.roundTripTime*8*1e3))),e&&"ETIMEDOUT"===e.code&&(a.timedout=!0),e||a.aborted||200===t.statusCode||206===t.statusCode||0===t.statusCode||(e=new Error("XHR Failed with a response of: "+(a&&(i||a.responseText)))),n(e,a)}),s=a.abort;return a.abort=function(){return a.aborted=!0,s.apply(a,arguments)},a.uri=t.uri,a.requestTime=Date.now(),a}},e.exports=t.default},"./node_modules/videojs-contrib-media-sources/es5/add-text-track-data.js":function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(i("./node_modules/global/window.js")),o=n(i("./node_modules/video.js/es5/video.js")),u=function(e){return isNaN(e)||Math.abs(e)===1/0?Number.MAX_VALUE:e};t.default={addTextTrackData:function(n,e,t){var s,r=a.default.WebKitDataCue||a.default.VTTCue;e&&e.forEach(function(e){var t=e.stream;this.inbandTextTracks_[t].addCue(new r(e.startTime+this.timestampOffset,e.endTime+this.timestampOffset,e.text))},n),t&&(s=u(n.mediaSource_.duration),t.forEach(function(e){var n=e.cueTime+this.timestampOffset;e.frames.forEach(function(e){var t,i=new r(n,n,e.value||e.url||e.data||"");i.frame=e,i.value=e,t=i,Object.defineProperties(t.frame,{id:{get:function(){return o.default.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return o.default.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return o.default.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}}),this.metadataTrack_.addCue(i)},this)},n),n.metadataTrack_&&n.metadataTrack_.cues&&n.metadataTrack_.cues.length&&function(){for(var e=n.metadataTrack_.cues,t=[],i=0;i<e.length;i++)e[i]&&t.push(e[i]);var r=t.reduce(function(e,t){var i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e},{}),a=Object.keys(r).sort(function(e,t){return Number(e)-Number(t)});a.forEach(function(e,t){var i=r[e],n=Number(a[t+1])||s;i.forEach(function(e){e.endTime=n})})}())},durationOfVideo:u},e.exports=t.default},"./node_modules/videojs-contrib-media-sources/es5/codec-utils.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={isAudioCodec:function(e){return/mp4a\.\d+.\d+/i.test(e)},parseContentType:function(e){var r={type:"",parameters:{}},t=e.trim().split(";");return r.type=t.shift().trim(),t.forEach(function(e){var t=e.trim().split("=");if(1<t.length){var i=t[0].replace(/"/g,"").trim(),n=t[1].replace(/"/g,"").trim();r.parameters[i]=n}}),r},isVideoCodec:function(e){return/avc1\.[\da-f]+/i.test(e)},translateLegacyCodecs:function(e){return e.map(function(e){return e.replace(/avc1\.(\d+)\.(\d+)/i,function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})})}},e.exports=t.default},"./node_modules/videojs-contrib-media-sources/es5/create-text-tracks-if-necessary.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,i){var n=t.player_;if(i.captions&&i.captions.length)for(var r in e.inbandTextTracks_||(e.inbandTextTracks_={}),i.captionStreams)if(!e.inbandTextTracks_[r]){n.tech_.trigger({type:"usage",name:"hls-608"});var a=n.textTracks().getTrackById(r);e.inbandTextTracks_[r]=a||n.addRemoteTextTrack({kind:"captions",id:r,label:r},!1).track}i.metadata&&i.metadata.length&&!e.metadataTrack_&&(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)},e.exports=t.default},"./node_modules/videojs-contrib-media-sources/es5/flash-constants.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={TIME_BETWEEN_CHUNKS:1,BYTES_PER_CHUNK:32768},e.exports=t.default},"./node_modules/videojs-contrib-media-sources/es5/flash-media-source.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var a=r(i("./node_modules/global/document.js")),s=r(i("./node_modules/video.js/es5/video.js")),o=r(i("./node_modules/videojs-contrib-media-sources/es5/flash-source-buffer.js")),u=r(i("./node_modules/videojs-contrib-media-sources/es5/flash-constants.js")),d=i("./node_modules/videojs-contrib-media-sources/es5/codec-utils.js"),l=function(e){function i(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=a,i=s,n=!0,o=d=void 0}}(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.sourceBuffers=[],this.readyState="closed",this.on(["sourceopen","webkitsourceopen"],function(e){t.swfObj=a.default.getElementById(e.swfId),t.player_=(0,s.default)(t.swfObj.parentNode),t.tech_=t.swfObj.tech,t.readyState="open",t.tech_.on("seeking",function(){for(var e=t.sourceBuffers.length;e--;)t.sourceBuffers[e].abort()}),t.swfObj&&t.swfObj.vjs_load()})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,s["default"].EventTarget),n(i,[{key:"addSeekableRange_",value:function(){}},{key:"addSourceBuffer",value:function(e){var t=(0,d.parseContentType)(e),i=void 0;if("video/mp2t"!==t.type&&"audio/mp2t"!==t.type)throw new Error("NotSupportedError (Video.js)");return i=new o.default(this),this.sourceBuffers.push(i),i}},{key:"endOfStream",value:function(e){"network"===e?this.tech_.error(2):"decode"===e&&this.tech_.error(3),"ended"!==this.readyState&&(this.readyState="ended",this.swfObj.vjs_endOfStream())}}]),i}();t.default=l;try{Object.defineProperty(l.prototype,"duration",{get:function(){return this.swfObj?this.swfObj.vjs_getProperty("duration"):NaN},set:function(e){var t=void 0,i=this.swfObj.vjs_getProperty("duration");if(this.swfObj.vjs_setProperty("duration",e),e<i)for(t=0;t<this.sourceBuffers.length;t++)this.sourceBuffers[t].remove(e,i);return e}})}catch(e){l.prototype.duration=NaN}for(var c in u.default)l[c]=u.default[c];e.exports=t.default},"./node_modules/videojs-contrib-media-sources/es5/flash-source-buffer.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var o=r(i("./node_modules/global/window.js")),s=r(i("./node_modules/video.js/es5/video.js")),u=r(i("./node_modules/mux.js/lib/flv/index.js")),d=r(i("./node_modules/videojs-contrib-media-sources/es5/remove-cues-from-track.js")),l=r(i("./node_modules/videojs-contrib-media-sources/es5/create-text-tracks-if-necessary.js")),c=i("./node_modules/videojs-contrib-media-sources/es5/add-text-track-data.js"),h=r(i("./node_modules/videojs-contrib-media-sources/es5/flash-transmuxer-worker.js")),f=r(i("./node_modules/webwackify/index.js")),p=r(i("./node_modules/videojs-contrib-media-sources/es5/flash-constants.js")),m=function(e){o.default.setTimeout(e,p.default.TIME_BETWEEN_CHUNKS)},g=function(){return Math.random().toString(36).slice(2,8)},y=function(e,t){("number"!=typeof t||t<0)&&(t=0);var i=Math.pow(10,t);return Math.round(e*i)/i},a=function(e){function a(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=a,i=s,n=!0,o=d=void 0}}(Object.getPrototypeOf(a.prototype),"constructor",this).call(this);var i;this.chunkSize_=p.default.BYTES_PER_CHUNK,this.buffer_=[],this.bufferSize_=0,this.basePtsOffset_=NaN,this.mediaSource_=e,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.updating=!1,this.timestampOffset_=0,i=o.default.btoa(String.fromCharCode.apply(null,Array.prototype.slice.call(u.default.getFlvHeader())));var n=this.mediaSource_.player_.id().replace(/[^a-zA-Z0-9]/g,"_");this.flashEncodedHeaderName_="vjs_flashEncodedHeader_"+n+g(),this.flashEncodedDataName_="vjs_flashEncodedData_"+n+g(),o.default[this.flashEncodedHeaderName_]=function(){return delete o.default[t.flashEncodedHeaderName_],i},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedHeaderName_),this.transmuxer_=(0,f.default)(h.default,function(){var e=void 0;try{e="./node_modules/videojs-contrib-media-sources/es5/flash-transmuxer-worker.js"}catch(e){}return e}()),this.transmuxer_.postMessage({action:"init",options:{}}),this.transmuxer_.onmessage=function(e){"data"===e.data.action&&t.receiveBuffer_(e.data.segment)},this.one("updateend",function(){t.mediaSource_.tech_.trigger("loadedmetadata")}),Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.mediaSource_.swfObj.vjs_discontinuity(),this.basePtsOffset_=NaN,this.audioBufferEnd_=NaN,this.videoBufferEnd_=NaN,this.transmuxer_.postMessage({action:"reset"}))}}),Object.defineProperty(this,"buffered",{get:function(){if(!(this.mediaSource_&&this.mediaSource_.swfObj&&"vjs_getProperty"in this.mediaSource_.swfObj))return s.default.createTimeRange();var e=this.mediaSource_.swfObj.vjs_getProperty("buffered");return e&&e.length&&(e[0][0]=y(e[0][0],3),e[0][1]=y(e[0][1],3)),s.default.createTimeRanges(e)}}),this.mediaSource_.player_.on("seeked",function(){if((0,d.default)(0,1/0,t.metadataTrack_),t.inbandTextTracks_)for(var e in t.inbandTextTracks_)(0,d.default)(0,1/0,t.inbandTextTracks_[e])});var r=this.onHlsReset_.bind(this);this.mediaSource_.player_.tech_.on("hls-reset",r),this.mediaSource_.player_.tech_.hls.on("dispose",function(){t.transmuxer_.terminate(),t.mediaSource_.player_.tech_.off("hls-reset",r)})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,s["default"].EventTarget),n(a,[{key:"appendBuffer",value:function(e){var t=void 0;if(this.updating)throw(t=new Error("SourceBuffer.append() cannot be called while an update is in progress")).name="InvalidStateError",t.code=11,t;this.updating=!0,this.mediaSource_.readyState="open",this.trigger({type:"update"}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"abort",value:function(){this.buffer_=[],this.bufferSize_=0,this.mediaSource_.swfObj.vjs_abort(),this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"remove",value:function(e,t){if((0,d.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)(0,d.default)(e,t,this.inbandTextTracks_[i]);this.trigger({type:"update"}),this.trigger({type:"updateend"})}},{key:"receiveBuffer_",value:function(t){var i=this;(0,l.default)(this,this.mediaSource_,t),(0,c.addTextTrackData)(this,t.captions,t.metadata),m(function(){var e=i.convertTagsToData_(t);0===i.buffer_.length&&m(i.processBuffer_.bind(i)),e&&(i.buffer_.push(e),i.bufferSize_+=e.byteLength)})}},{key:"processBuffer_",value:function(){var e=this,t=p.default.BYTES_PER_CHUNK;if(this.buffer_.length){var i=this.buffer_[0].subarray(0,t);i.byteLength<t||this.buffer_[0].byteLength===t?this.buffer_.shift():this.buffer_[0]=this.buffer_[0].subarray(t),this.bufferSize_-=i.byteLength;for(var n=[],r=i.byteLength,a=0;a<r;a++)n.push(String.fromCharCode(i[a]));var s=o.default.btoa(n.join(""));o.default[this.flashEncodedDataName_]=function(){return m(e.processBuffer_.bind(e)),delete o.default[e.flashEncodedDataName_],s},this.mediaSource_.swfObj.vjs_appendChunkReady(this.flashEncodedDataName_)}else!1!==this.updating&&(this.updating=!1,this.trigger({type:"updateend"}))}},{key:"convertTagsToData_",value:function(e){var t=0,i=this.mediaSource_.tech_,n=0,r=void 0,a=e.tags.videoTags,s=e.tags.audioTags;if(isNaN(this.basePtsOffset_)&&(a.length||s.length)){var o=a[0]||{pts:1/0},u=s[0]||{pts:1/0};this.basePtsOffset_=Math.min(u.pts,o.pts)}i.seeking()&&(this.videoBufferEnd_=NaN,this.audioBufferEnd_=NaN),isNaN(this.videoBufferEnd_)?(i.buffered().length&&(n=i.buffered().end(0)-this.timestampOffset),i.seeking()&&(n=Math.max(n,i.currentTime()-this.timestampOffset)),n*=1e3,n+=this.basePtsOffset_):n=this.videoBufferEnd_+.1;var d=a.length;if(d&&a[d-1].pts>=n){for(;--d;){var l=a[d];if(!(l.pts>n)&&(l.keyFrame||l.metaDataTag))break}for(;d;){if(!a[d-1].metaDataTag)break;d--}}var c=a.slice(d),h=void 0;for(h=isNaN(this.audioBufferEnd_)?n:this.audioBufferEnd_+.1,c.length&&(h=Math.min(h,c[0].pts)),d=0;d<s.length&&!(s[d].pts>=h);)d++;var f=s.slice(d);f.length&&(this.audioBufferEnd_=f[f.length-1].pts),c.length&&(this.videoBufferEnd_=c[c.length-1].pts);var p=this.getOrderedTags_(c,f);if(0!==p.length){if(p[0].pts<n&&i.seeking()){var m=i.currentTime()-(n-p[0].pts)/1e3;m<1/30&&(m=0);try{this.mediaSource_.swfObj.vjs_adjustCurrentTime(m)}catch(e){}}for(var g=0;g<p.length;g++)t+=p[g].bytes.byteLength;r=new Uint8Array(t);g=0;for(var y=0;g<p.length;g++)r.set(p[g].bytes,y),y+=p[g].bytes.byteLength;return r}}},{key:"getOrderedTags_",value:function(e,t){for(var i=void 0,n=[];e.length||t.length;)i=e.length?t.length&&t[0].dts<e[0].dts?t.shift():e.shift():t.shift(),n.push(i);return n}},{key:"onHlsReset_",value:function(){this.transmuxer_.postMessage({action:"resetCaptions"})}}]),a}();t.default=a,e.exports=t.default},"./node_modules/videojs-contrib-media-sources/es5/flash-transmuxer-worker.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var a=r(i("./node_modules/global/window.js")),s=r(i("./node_modules/mux.js/lib/flv/index.js")),o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e||{},this.init()}return n(t,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new s.default.Transmuxer(this.options),(e=this.transmuxer).on("data",function(e){a.default.postMessage({action:"data",segment:e})}),e.on("done",function(e){a.default.postMessage({action:"done"})})}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"flush",value:function(){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}}]),t}(),u=function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new o(e.data.options):(this.messageHandlers||(this.messageHandlers=new o),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};t.default=function(e){return new u(e)},e.exports=t.default},"./node_modules/videojs-contrib-media-sources/es5/html-media-source.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var s=r(i("./node_modules/global/window.js")),o=r(i("./node_modules/global/document.js")),u=r(i("./node_modules/video.js/es5/video.js")),a=r(i("./node_modules/videojs-contrib-media-sources/es5/virtual-source-buffer.js")),d=i("./node_modules/videojs-contrib-media-sources/es5/add-text-track-data.js"),l=i("./node_modules/videojs-contrib-media-sources/es5/codec-utils.js"),c=function(e){function t(){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=a,i=s,n=!0,o=d=void 0}}(Object.getPrototypeOf(t.prototype),"constructor",this).call(this);var e=void 0;for(e in this.nativeMediaSource_=new s.default.MediaSource,this.nativeMediaSource_)e in t.prototype||"function"!=typeof this.nativeMediaSource_[e]||(this[e]=this.nativeMediaSource_[e].bind(this.nativeMediaSource_));this.duration_=NaN,Object.defineProperty(this,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(e){(this.duration_=e)===1/0||(this.nativeMediaSource_.duration=e)}}),Object.defineProperty(this,"seekable",{get:function(){return this.duration_===1/0?u.default.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(this,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(this,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),this.sourceBuffers=[],this.activeSourceBuffers_=[],this.updateActiveSourceBuffers_=function(){if(a.activeSourceBuffers_.length=0,1===a.sourceBuffers.length){var e=a.sourceBuffers[0];return e.appendAudioInitSegment_=!0,e.audioDisabled_=!e.audioCodec_,void a.activeSourceBuffers_.push(e)}for(var t=!1,i=!0,n=0;n<a.player_.audioTracks().length;n++){var r=a.player_.audioTracks()[n];if(r.enabled&&"main"!==r.kind){i=!(t=!0);break}}a.sourceBuffers.forEach(function(e){if(e.appendAudioInitSegment_=!0,e.videoCodec_&&e.audioCodec_)e.audioDisabled_=t;else if(e.videoCodec_&&!e.audioCodec_)e.audioDisabled_=!0,i=!1;else if(!e.videoCodec_&&e.audioCodec_&&(e.audioDisabled_=i))return;a.activeSourceBuffers_.push(e)})},this.onPlayerMediachange_=function(){a.sourceBuffers.forEach(function(e){e.appendAudioInitSegment_=!0})},this.onHlsReset_=function(){a.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.postMessage({action:"resetCaptions"})})},this.onHlsSegmentTimeMapping_=function(t){a.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(e){this.nativeMediaSource_.addEventListener(e,this.trigger.bind(this))},this),this.on("sourceopen",function(e){var t=o.default.querySelector('[src="'+a.url_+'"]');t&&(a.player_=(0,u.default)(t.parentNode),a.player_.tech_.on("hls-reset",a.onHlsReset_),a.player_.tech_.on("hls-segment-time-mapping",a.onHlsSegmentTimeMapping_),a.player_.audioTracks&&a.player_.audioTracks()&&(a.player_.audioTracks().on("change",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("addtrack",a.updateActiveSourceBuffers_),a.player_.audioTracks().on("removetrack",a.updateActiveSourceBuffers_)),a.player_.on("mediachange",a.onPlayerMediachange_))}),this.on("sourceended",function(e){for(var t=(0,d.durationOfVideo)(a.duration),i=0;i<a.sourceBuffers.length;i++){var n=a.sourceBuffers[i],r=n.metadataTrack_&&n.metadataTrack_.cues;r&&r.length&&(r[r.length-1].endTime=t)}}),this.on("sourceclose",function(e){this.sourceBuffers.forEach(function(e){e.transmuxer_&&e.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&(this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["default"].EventTarget),n(t,[{key:"addSeekableRange_",value:function(e,t){var i=void 0;if(this.duration!==1/0)throw(i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",i.code=11,i;(t>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=t)}},{key:"addSourceBuffer",value:function(e){var t=void 0,i=(0,l.parseContentType)(e);if(/^(video|audio)\/mp2t$/i.test(i.type)){var n=[];i.parameters&&i.parameters.codecs&&(n=i.parameters.codecs.split(","),n=(n=(0,l.translateLegacyCodecs)(n)).filter(function(e){return(0,l.isAudioCodec)(e)||(0,l.isVideoCodec)(e)})),0===n.length&&(n=["avc1.4d400d","mp4a.40.2"]),t=new a.default(this,n),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),t.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else t=this.nativeMediaSource_.addSourceBuffer(e);return this.sourceBuffers.push(t),t}}]),t}();t.default=c,e.exports=t.default},"./node_modules/videojs-contrib-media-sources/es5/remove-cues-from-track.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t,i){var n=void 0,r=void 0;if(i&&i.cues)for(n=i.cues.length;n--;)(r=i.cues[n]).startTime<=t&&r.endTime>=e&&i.removeCue(r)},e.exports=t.default},"./node_modules/videojs-contrib-media-sources/es5/transmuxer-worker.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var a=r(i("./node_modules/global/window.js")),s=r(i("./node_modules/mux.js/lib/mp4/index.js")),o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e||{},this.init()}return n(t,[{key:"init",value:function(){var e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new s.default.Transmuxer(this.options),(e=this.transmuxer).on("data",function(e){var t=e.initSegment;e.initSegment={data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength};var i=e.data;e.data=i.buffer,a.default.postMessage({action:"data",segment:e,byteOffset:i.byteOffset,byteLength:i.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){a.default.postMessage({action:"caption",data:e})}),e.on("done",function(e){a.default.postMessage({action:"done"})}),e.on("gopInfo",function(e){a.default.postMessage({action:"gopInfo",gopInfo:e})})}},{key:"push",value:function(e){var t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(e){var t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*t))}},{key:"setAudioAppendStart",value:function(e){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*e.appendStart))}},{key:"flush",value:function(e){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}]),t}(),u=function(e){e.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new o(e.data.options):(this.messageHandlers||(this.messageHandlers=new o),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}};t.default=function(e){return new u(e)},e.exports=t.default},"./node_modules/videojs-contrib-media-sources/es5/videojs-contrib-media-sources.js":function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(i("./node_modules/global/window.js")),a=n(i("./node_modules/videojs-contrib-media-sources/es5/flash-media-source.js")),s=n(i("./node_modules/videojs-contrib-media-sources/es5/html-media-source.js")),o=n(i("./node_modules/video.js/es5/video.js")),u=0,d={mode:"auto"};o.default.mediaSources={};var l=function(e,t){var i=o.default.mediaSources[e];if(!i)throw new Error("Media Source not found (Video.js)");i.trigger({type:"sourceopen",swfId:t})},c=function(){return!!r.default.MediaSource&&!!r.default.MediaSource.isTypeSupported&&r.default.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},h=function(e){var t=o.default.mergeOptions(d,e);if(this.MediaSource={open:l,supportsNativeMediaSources:c},"html5"===t.mode||"auto"===t.mode&&c())return new s.default;if(o.default.getTech("Flash"))return new a.default;throw new Error("Cannot use Flash or Html5 to create a MediaSource for this video")};(t.MediaSource=h).open=l,h.supportsNativeMediaSources=c;var f={createObjectURL:function(e){var t=void 0;return e instanceof s.default?(t=r.default.URL.createObjectURL(e.nativeMediaSource_),e.url_=t):e instanceof a.default?(t="blob:vjs-media-source/"+u,u++,o.default.mediaSources[t]=e,t):(t=r.default.URL.createObjectURL(e),e.url_=t)}};t.URL=f,o.default.MediaSource=h,o.default.URL=f},"./node_modules/videojs-contrib-media-sources/es5/virtual-source-buffer.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function r(e){return e&&e.__esModule?e:{default:e}}var u=r(i("./node_modules/video.js/es5/video.js")),a=r(i("./node_modules/videojs-contrib-media-sources/es5/create-text-tracks-if-necessary.js")),s=r(i("./node_modules/videojs-contrib-media-sources/es5/remove-cues-from-track.js")),o=i("./node_modules/videojs-contrib-media-sources/es5/add-text-track-data.js"),d=r(i("./node_modules/webwackify/index.js")),l=r(i("./node_modules/videojs-contrib-media-sources/es5/transmuxer-worker.js")),c=i("./node_modules/videojs-contrib-media-sources/es5/codec-utils.js"),h=function(e,t,i){if(!t||!e.length)return[];var n=Math.ceil(9e4*(t.currentTime()-i+3)),r=void 0;for(r=0;r<e.length&&!(e[r].pts>n);r++);return e.slice(r)};t.gopsSafeToAlignWith=h;var f=function(e,t,i){if(!t.length)return e;if(i)return t.slice();for(var n=t[0].pts,r=0;r<e.length&&!(e[r].pts>=n);r++);return e.slice(0,r).concat(t)};t.updateGopBuffer=f;var p=function(e,t,i,n){for(var r=Math.ceil(9e4*(t-n)),a=Math.ceil(9e4*(i-n)),s=e.slice(),o=e.length;o--&&!(e[o].pts<=a););if(-1===o)return s;for(var u=o+1;u--&&!(e[u].pts<=r););return u=Math.max(u,0),s.splice(u,o-u+1),s};t.removeGopBuffer=p;var m=function(e){function r(e,t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),function(e,t,i){for(var n=!0;n;){var r=e,a=t,s=i;n=!1,null===r&&(r=Function.prototype);var o=Object.getOwnPropertyDescriptor(r,a);if(void 0!==o){if("value"in o)return o.value;var u=o.get;if(void 0===u)return;return u.call(s)}var d=Object.getPrototypeOf(r);if(null===d)return;e=d,t=a,i=s,n=!0,o=d=void 0}}(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,u.default.EventTarget),this.timestampOffset_=0,this.pendingBuffers_=[],this.bufferUpdating_=!1,this.mediaSource_=e,this.codecs_=t,this.audioCodec_=null,this.videoCodec_=null,this.audioDisabled_=!1,this.appendAudioInitSegment_=!0,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=11<=u.default.browser.IE_VERSION;var n={remux:!1,alignGopsAtEnd:this.safeAppend_};this.codecs_.forEach(function(e){(0,c.isAudioCodec)(e)?i.audioCodec_=e:(0,c.isVideoCodec)(e)&&(i.videoCodec_=e)}),this.transmuxer_=(0,d.default)(l.default,function(){var e=void 0;try{e="./node_modules/videojs-contrib-media-sources/es5/transmuxer-worker.js"}catch(e){}return e}()),this.transmuxer_.postMessage({action:"init",options:n}),this.transmuxer_.onmessage=function(e){return"data"===e.data.action?i.data_(e):"done"===e.data.action?i.done_(e):"gopInfo"===e.data.action?i.appendGopInfo_(e):void 0},Object.defineProperty(this,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(e){"number"==typeof e&&0<=e&&(this.timestampOffset_=e,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e}))}}),Object.defineProperty(this,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(e){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=e),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=e)}}),Object.defineProperty(this,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(this,"buffered",{get:function(){var e=null,t=null,i=0,n=[],r=[];if(!this.videoBuffer_&&!this.audioBuffer_)return u.default.createTimeRange();if(!this.videoBuffer_)return this.audioBuffer_.buffered;if(!this.audioBuffer_)return this.videoBuffer_.buffered;if(this.audioDisabled_)return this.videoBuffer_.buffered;if(0===this.videoBuffer_.buffered.length&&0===this.audioBuffer_.buffered.length)return u.default.createTimeRange();for(var a=this.videoBuffer_.buffered,s=this.audioBuffer_.buffered,o=a.length;o--;)n.push({time:a.start(o),type:"start"}),n.push({time:a.end(o),type:"end"});for(o=s.length;o--;)n.push({time:s.start(o),type:"start"}),n.push({time:s.end(o),type:"end"});for(n.sort(function(e,t){return e.time-t.time}),o=0;o<n.length;o++)"start"===n[o].type?2===++i&&(e=n[o].time):"end"===n[o].type&&1===--i&&(t=n[o].time),null!==e&&null!==t&&(r.push([e,t]),t=e=null);return u.default.createTimeRanges(r)}})}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,u["default"].EventTarget),n(r,[{key:"data_",value:function(e){var t=e.data.segment;t.data=new Uint8Array(t.data,e.data.byteOffset,e.data.byteLength),t.initSegment=new Uint8Array(t.initSegment.data,t.initSegment.byteOffset,t.initSegment.byteLength),(0,a.default)(this,this.mediaSource_,t),this.pendingBuffers_.push(t)}},{key:"done_",value:function(e){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var n=this,r=["audio","video"];r.forEach(function(t){if(n[t+"Codec_"]&&!n[t+"Buffer_"]){var i=null;if(n.mediaSource_[t+"Buffer_"])(i=n.mediaSource_[t+"Buffer_"]).updating=!1;else{var e=t+'/mp4;codecs="'+n[t+"Codec_"]+'"';i=function(e,t){var i=e.addSourceBuffer(t),n=Object.create(null);n.updating=!1,n.realBuffer_=i;var r=function(t){"function"==typeof i[t]?n[t]=function(){return i[t].apply(i,arguments)}:void 0===n[t]&&Object.defineProperty(n,t,{get:function(){return i[t]},set:function(e){return i[t]=e}})};for(var a in i)r(a);return n}(n.mediaSource_.nativeMediaSource_,e),n.mediaSource_[t+"Buffer_"]=i}n[t+"Buffer_"]=i,["update","updatestart","updateend"].forEach(function(e){i.addEventListener(e,function(){if("audio"!==t||!n.audioDisabled_)return"updateend"===e&&(n[t+"Buffer_"].updating=!1),r.every(function(e){return!("audio"!==e||!n.audioDisabled_)||(t===e||!n[e+"Buffer_"]||!n[e+"Buffer_"].updating)})?n.trigger(e):void 0})})}})}},{key:"appendBuffer",value:function(e){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var t=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:t.end(t.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:h(this.gopBuffer_,this.mediaSource_.player_,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength},[e.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(e){this.gopBuffer_=f(this.gopBuffer_,e.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(e,t){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(e,t),this.gopBuffer_=p(this.gopBuffer_,e,t,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(e,t)),(0,s.default)(e,t,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)(0,s.default)(e,t,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var e={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};e=this.pendingBuffers_.reduce(function(e,t){var i=t.type,n=t.data,r=t.initSegment;return e[i].segments.push(n),e[i].bytes+=n.byteLength,e[i].initSegment=r,t.captions&&(e.captions=e.captions.concat(t.captions)),t.info&&(e[i].info=t.info),t.metadata&&(e.metadata=e.metadata.concat(t.metadata)),e},e),this.videoBuffer_||this.audioBuffer_||(0===e.video.bytes&&(this.videoCodec_=null),0===e.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),e.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:e.audio.info}),e.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:e.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(e.audio.segments.unshift(e.audio.initSegment),e.audio.bytes+=e.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var t=!1;this.videoBuffer_&&e.video.bytes?(e.video.segments.unshift(e.video.initSegment),e.video.bytes+=e.video.initSegment.byteLength,this.concatAndAppendSegments_(e.video,this.videoBuffer_),(0,o.addTextTrackData)(this,e.captions,e.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(t=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(e.audio,this.audioBuffer_),this.pendingBuffers_.length=0,t&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(e,t){var i=0,n=void 0;if(e.bytes){n=new Uint8Array(e.bytes),e.segments.forEach(function(e){n.set(e,i),i+=e.byteLength});try{t.updating=!0,t.appendBuffer(n)}catch(e){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:e.message,originalError:e})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),r}();t.default=m},"./node_modules/videojs-sneakpeek/dist/videojs-sneakpeek.min.js":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},w=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(i.push(s.value),!t||i.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw a}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.enablePlugin=function(e,t){(r.default.registerPlugin||r.default.plugin)(e,t)},t.default=function(e){s.basePath=e.basePath||s.basePath;var T=n({},s,e),S=this,a=[],k=void 0;function t(){if(!k){for(var e=0;e<a.length;e++)if("metadata"===a[e].kind&&"sneakpeek"===a[e].label){(k=a[e]).mode="hidden";break}if(k){if(-1!==navigator.userAgent.toLowerCase().indexOf("android")){var t=S.controlBar.progressControl,i=function(){t.removeClass("fake-active")};t.on("touchstart",function(){t.addClass("fake-active")}),t.on("touchend",i),t.on("touchcancel",i)}var y=document.createElement("div");y.className="vjs-sneakpeek-holder";var v=document.createElement("img");y.appendChild(v),v.className="vjs-sneakpeek";var _=S.duration();S.on("durationchange",function(){_=S.duration()}),S.on("loadedmetadata",function(){_=S.duration()});var b=S.controlBar.progressControl;b.el().appendChild(y),b.on("mousemove",n),b.on("touchmove",n),b.on("mouseout",r),b.on("touchcancel",r),b.on("touchend",r),S.on("userinactive",r)}}function n(e){var t=function(){if(E.default.pageXOffset)return{x:E.default.pageXOffset,y:E.default.pageYOffset};return{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}}().x,i=j(b.el()).getBoundingClientRect(),n=e.pageX;e.changedTouches&&(n=e.changedTouches[0].pageX);var r=(i.width||i.right)+t,a=n||e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;a-=j(b.el()).getBoundingClientRect().left+t;for(var s=Math.floor(a/b.width()*_),o=k&&k.cues.length,u=0,d=void 0;u<o;){var l=k.cues[u];if(l.startTime<=s&&l.endTime>=s){d=O(l.text);break}u++}if(void 0!==d){if(d.src&&v.src!==d.src){var c="";"/"===d.src[0]&&(c=(c=S.currentSrc()).substring(0,c.lastIndexOf("/"))),v.src=c+d.src+(h=T.urlParams,""===(f=Object.entries(h).map(function(e){var t=w(e,2),i=t[0],n=t[1];return i+"="+n}).join("&"))?"":"?"+f)}var h,f;d.w=d.w||T.width,d.h=d.h||T.height,y.style.width===d.w&&y.style.height===d.h||(y.style.width=d.w+"px",y.style.height=d.h+"px"),v.style.left=-d.x+"px",v.style.top=-d.y+"px";var p=[d.y,d.w+d.x,d.y+d.h,d.x];v.style.clip="rect("+p.join("px,")+"px)";var m=d.w,g=m/2;r<a+g?a=r-m:a<g?a=0:a-=g,y.style.left=a+"px"}}function r(){y.style.left="-1000px"}}S.ready(function(){a=S.remoteTextTracks(),t(),k||a.addEventListener("addtrack",t)})};var r=a(i("./node_modules/video.js/es5/video.js")),E=a(i("./node_modules/global/window.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s={width:0,height:0,basePath:"",urlParams:{}};function j(e){return"HTML"!==e.nodeName&&"static"===(i=e,t="position",E.default.getComputedStyle?E.default.getComputedStyle(i,n)[t]:i.currentStyle[t])?j(e.offsetParent):e;var t,i,n}function O(e){var t=e.indexOf("#");if(-1===t)return{src:e,x:0,y:0,w:0,h:0};var i=e.substring(0,t),n=e.substring(t+1);if("xywh="!==n.substring(0,5))return{src:s.basePath+i,x:0,y:0,w:0,h:0};var r=n.substring(5).split(",");return{src:s.basePath+i,x:+r[0],y:+r[1],w:+r[2],h:+r[3]}}},"./node_modules/webwackify/index.js":function(e,t,o){var l=arguments[3],c=arguments[4],h=arguments[5],f=JSON.stringify,s=!1;void 0===l&&(s=!0,l=function(i){var n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}return r.m=i,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=entryModule)},c=o.m);e.exports=function(e,t){var i;i=s?function(e,t){var i,n="string"==typeof t;i=n?{}:[],Object.keys(c).forEach(function(e){c[e]&&(i[e]=c[e].toString())});var r,a=o(t);if(!a||a!==e&&a.default!==e){var s=i[t];i[t]=s.substring(0,s.length-1)+"\n"+e.name+"();\n}"}r=n?(t=f(t),"{"+Object.keys(i).map(function(e){return f(e)+":"+i[e]}).join(",")+"}"):"["+i.join(",")+"]";return"var fn = ("+l.toString().replace("entryModule",t)+")("+r+');\n(typeof fn === "function") && fn(self);'}(e,t):function(e){for(var t,i=Object.keys(h),n=0;n<i.length;n++){var r=i[n],a=h[r].exports;if(a===e||a&&a.default===e){t=r;break}}if(!t){t=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var s={};for(n=0;n<i.length;n++)s[r=i[n]]=r;c[t]=["function(require,module,exports){"+e+"(self); }",s]}var o=Math.floor(Math.pow(16,8)*Math.random()).toString(16),u={};u[t]=t,c[o]=["function(require,module,exports){var f = require("+f(t)+");(f.default ? f.default : f)(self);}",u];var d={};return function e(t){for(var i in d[t]=!0,c[t][1]){var n=c[t][1][i];d[n]||e(n)}}(o),"("+l+")({"+Object.keys(d).map(function(e){return f(e)+":["+c[e][0]+","+f(c[e][1])+"]"}).join(",")+"},{},["+f(o)+"])"}(e);var n=new Blob([i],{type:"text/javascript"}),r=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(n),a=new Worker(r);return a.objectURL=r,a}},"./src/udemy/js/video-player/videojs-open-source-package.js":function(e,t,i){"use strict";i.r(t);var n=i("./node_modules/video.js/es5/video.js"),s=i.n(n),r=i("./node_modules/videojs-contrib-hls/es5/videojs-contrib-hls.js"),a=i.n(r),o=i("./node_modules/videojs-sneakpeek/dist/videojs-sneakpeek.min.js"),u=i.n(o),d=i("./node_modules/lodash-es/noop.js"),l=s.a.getComponent("Menu"),c=s.a.getComponent("Component"),h=s.a.getComponent("Player"),f=s.a.getComponent("PlaybackRateMenuButton"),p=s.a.getComponent("PlaybackRateMenuItem");h.prototype.speedDown=function(){if(this.playbackRateSupported()){var e=this.options_.playbackRates,t=e.lastIndexOf(this.playbackRate());0<=t-1&&this.playbackRate(e[t-1])}},h.prototype.speedUp=function(){if(this.playbackRateSupported()){var e=this.options_.playbackRates,t=e.lastIndexOf(this.playbackRate());t+1<e.length&&this.playbackRate(e[t+1])}};var m=s.a.extend(f,{options_:{title:""},createEl:function(){var e=f.prototype.createEl.bind(this),t=e(),i=c.prototype.createEl("div",{className:"vjs-button-disabled-text",innerHTML:gettext("Playback rate change is not supported for flash.")});return t.appendChild(i),f.prototype.handleClick=d.a,t},createMenuWithoutMultiplier:function(){var t=this,i=new l(this.player());return(this.playbackRates()||[]).forEach(function(e){return i.addChild(new p(t.player(),{rate:e}))}),i},createMenu:function(){var e=this.createMenuWithoutMultiplier();if(e.children_.forEach(function(e){e.selectable=!0}),this.options_.title){var t=e.contentEl(),i=c.prototype.createEl("li",{className:"vjs-menu-title",innerHTML:this.options_.title,tabindex:-1});t.insertBefore(i,t.childNodes[0])}return e},updateLabel:function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML="".concat(this.player().playbackRate()))},updateVisibility:function(){this.playbackRateSupported()?(this.removeClass("vjs-button-disabled"),this.off("click",this.handleClick).on("click",this.handleClick)):(this.addClass("vjs-button-disabled"),this.off("click",this.handleClick))}});s.a.registerComponent("DisableablePlaybackRateMenuButton",m);var g=s.a.getComponent("Component"),y={slides:[],length:0};var v=s.a.extend(g,{constructor:function(e,t){var i=g.prototype.createEl("div",{className:"vjs-slide-window"});this.imageEl=g.prototype.createEl("img",{src:t.slides[0].url}),i.appendChild(this.imageEl),i.addEventListener("click",function(){e.paused()?e.play():e.pause()}),t=s.a.mergeOptions({el:i},t),g.call(this,e,t),this.slideNumber_=0,this.on(e,"timeupdate",this.updateSlide),this.slides=this.options_.slides}});v.prototype.minimizeVideo=function(){var e=this.el(),t=this.player().el().getElementsByClassName("vjs-tech")[0],i=this.player().el().getElementsByClassName("vjs-poster")[0];e.classList.remove("mashup-window-content"),e.style.opacity=1,t.classList.add("mashup-window-content"),i.classList.add("mashup-window-content")},v.prototype.minimizeSlide=function(){var e=this.el(),t=this.player().el().getElementsByClassName("vjs-tech")[0],i=this.player().el().getElementsByClassName("vjs-poster")[0];e.classList.add("mashup-window-content"),e.style.opacity=.5,t.classList.remove("mashup-window-content"),i.classList.remove("mashup-window-content")},v.prototype.updateSlide=function(){var e,t=Math.round(this.player().scrubbing?this.player().getCache().currentTime:this.player().currentTime());for(e=0;e<this.slides.length&&!(t<this.slides[e].time);e++);var i=Math.max(0,e-1);i!==this.slideNumber_&&(this.slideNumber_=i,this.imageEl.setAttribute("src",this.slides[this.slideNumber_].url),this.minimizeVideo())},s.a.registerComponent("SlideWindow",v),s.a.plugin("mashup",function(t){var n=this;t=s.a.mergeOptions(y,t),n.ready(function(){var i,e;!function(e,t){for(var i,n,r,a=e.controlBar.progressControl.seekBar.el(),s=g.prototype.createEl("div",{className:"vjs-intervals"}),o=100,u=0;u<t.slides.length;u++)o-=i=u===t.slides.length-1?o:Math.floor((t.slides[u+1].time-t.slides[u].time)/t.length*100),(n=g.prototype.createEl("div",{className:"vjs-interval"})).style.width="".concat(i,"%"),(r=g.prototype.createEl("div")).appendChild(g.prototype.createEl("img",{src:t.slides[u].url})),n.appendChild(r),s.appendChild(n);a.insertBefore(s,a.lastChild)}(n,t),n.el().appendChild((i=n,(e=g.prototype.createEl("div",{className:"mashup-window-overlay"})).addEventListener("mouseenter",function(){this.classList.add("active-on-hover");for(var e=i.el().getElementsByClassName("mashup-window-content"),t=0;t<e.length;t++)e[t].style.opacity=1}),e.addEventListener("mouseleave",function(){this.classList.remove("active-on-hover");for(var e=i.el().getElementsByClassName("mashup-window-content"),t=0;t<e.length;t++)e[t].style.opacity=.5}),e.addEventListener("click",function(){i.slideWindow.el().classList.contains("mashup-window-content")?i.slideWindow.minimizeVideo():i.slideWindow.minimizeSlide()}),e)),n.slideWindow=new v(n,t),n.slideWindow.minimizeVideo(),n.addChild(n.slideWindow)})});var _=i("./node_modules/jquery/dist/jquery.js-exposed"),b=i.n(_),T=function(e){function r(){return babelHelpers.classCallCheck(this,r),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).apply(this,arguments))}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,[{key:"createEl",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"div",t=1<arguments.length?arguments[1]:void 0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=babelHelpers.get(babelHelpers.getPrototypeOf(r.prototype),"createEl",this).call(this,e,t,i);return n.className="vjs-ud-captions-display",n}},{key:"updateDisplay",value:function(){}}]),r}(s.a.getComponent("TextTrackDisplay")),S=function(e){function a(){var e,t;babelHelpers.classCallCheck(this,a);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(t=babelHelpers.possibleConstructorReturn(this,(e=babelHelpers.getPrototypeOf(a)).call.apply(e,[this].concat(n)))).close=d.a,t}return babelHelpers.inherits(a,e),a}(s.a.getComponent("Component")),k={player:function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"userActive",value:function(e){return void 0!==e?((e=!!e)!==this.userActive_&&((this.userActive_=e)?(this.userActivity_=!0,this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(e){e.stopPropagation(),e.preventDefault()}),this.trigger("userinactive"))),this):this.userActive_}}]),t}(s.a.getComponent("Player")),textTrackDisplay:T,errorDisplay:S};var w=s.a.getComponent("SeekBar");function E(e){var t;!function(n){var r,a=[320,480,768,1200,1/0],s={Infinity:"large-screen",1200:"medium-screen",768:"tablet",480:"mobile-landscape",320:"mobile-portrait"};function e(){for(var e=n.el().offsetWidth,t="max",i=0;i<a.length;i++)if(e<=a[i]){t=a[i];break}t!==r&&(s[t]&&n.el().classList.add(s[t]),s[r]&&n.el().classList.remove(s[r]),r=t)}n.ready(e),window.addEventListener("resize",e),n.on("dispose",function(){window.removeEventListener("resize",e)})}(e),e.controlBar.el().classList.add("player-controls"),(t=e).tech_&&(t.tech_.el().addEventListener("mousedown",function(){t._playbackElementClicked=!0}),t.controlBar.el().addEventListener("mousedown",function(){t._playbackElementClicked=!1}))}Object.entries(k).forEach(function(e){var t=babelHelpers.slicedToArray(e,2),i=t[0],n=t[1];return s.a.registerComponent(i,n)}),w.prototype.originalHandleMouseMove=w.prototype.handleMouseMove,w.prototype.handleMouseMove=function(e){var t=b()(this.player_.el());if(!this.scrubberContainer||!this.scrubber)return this.scrubberContainer=t.find(".vjs-slider.vjs-slider-horizontal"),this.scrubber=t.find(".vjs-play-progress.vjs-slider-bar"),this.originalHandleMouseMove(e);var i=this.scrubberContainer.width()||0,n=e.clientX-this.scrubberContainer.offset().left;if(0<n&&n<=i){var r=Math.round(n/i*100);this.scrubber.css({width:"".concat(r,"%")})}this.originalHandleMouseMove(e)};s.a.plugin("udemypatches",function(){var e=this;!function(t){t._originalPlaybackRateMethod=t.playbackRate,t._playbackRate=t.playbackRate();var e=s.a.getComponent("PlaybackRateMenuButton");t.playbackRates=function(){return this.options_.playbackRates},t.playbackRateSupported=e.prototype.playbackRateSupported.bind(t),t.playbackRate=function(e){return void 0!==e&&(this._playbackRate=e),t.playbackRateSupported()?this._originalPlaybackRateMethod(e):this._playbackRate},t.on("play",function(){this.playbackRate(this._playbackRate)})}(e),e.on("seeking",function(){"Flash"===this.techName_&&this.ended()&&this.tech_.trigger("seeked")}),function(e){for(var t=s.a.browser.IS_SAFARI&&!s.a.browser.IS_IOS,i=s.a.browser.IS_CHROME&&s.a.browser.IS_ANDROID,n=s.a.browser.IS_EDGE||s.a.browser.IE_VERSION||t||i,r=e.options_.sources,a=r.length;0<a;)"application/x-mpegURL"===r[--a].type&&n&&r.splice(a,1)}(e),function(e){if(s.a.browser.IS_IOS){var t=e.el().querySelector("video");e.on("ended",function(){t.webkitDisplayingFullscreen&&t.webkitExitFullscreen()})}}(e),e.ready(function(){E(e)})});var j=function(){function e(){babelHelpers.classCallCheck(this,e),this.highest=0,this.lastTotal=0}return babelHelpers.createClass(e,[{key:"add",value:function(e,t){var i=(e-this.lastTotal)/t;i>this.highest&&(this.highest=i),this.lastTotal=e}}]),e}();s.a.plugin("bandwidthWatermark",function(){var n=Date.now(),r=this,a={bytesSecHighestHLSBandwidth:new j,bytesSecHighestDecoder:new j,millisSecHighestBandwidth:new j};r.setInterval(function(){var e=Date.now(),t=(e-n)/1e3;n=e,a.bytesSecHighestDecoder.add(function(){if(r.tech_){var e=r.tech_.el();return e.webkitAudioDecodedByteCount+e.webkitVideoDecodedByteCount}}(),t);var i=r.duration();i&&a.millisSecHighestBandwidth.add(r.bufferedPercent()*i*1e3,t),r.tech_&&r.tech_.hls&&a.bytesSecHighestHLSBandwidth.add(r.tech_.hls.bytesReceived,t),r.trigger("onbandwidthwatermarkupdate",{bandwidthWatermarks:a})},1e3)});var O=i("./src/udemy/js/video-player/decorate-stats.js");s.a.plugin("eventTracking",function(i){var n=this,e=!1;n.hotkeyPressed=function(){e=!0},n.resetHotkeyPressed=function(){e=!1},n.isHotkeyPressed=function(){return e};var r={};function t(e){a({type:e.type,data:e.interval})}function a(e,t){Object(O.a)(n,i,r,e,t),i.onVideoTracking(e),n.resetHotkeyPressed()}n.on("onbandwidthwatermarkupdate",function(e,t){r=t.bandwidthWatermarks}),n.ready(function(){a({type:"viewed",mode:this.techName_})}),n.on("customerror",function(){a({type:"error"})}),n.on("userinactive",function(){a({type:"userinactive"})}),n.on("fullscreenchange",function(){a({type:"fullscreenchange",isFullscreen:n.isFullscreen()})}),n.on("play",function(){a({type:"play"},!0)}),n.on("pause",function(){a({type:"pause"})}),n.on("changeRes",function(){a({type:"qualityChange",quality:n.resolution})}),n.on("firstplaybackratechange",function(e){a({type:"playbackrate",speed:e.speed})}),n.on("ratechange",function(){a({type:"playbackrate",speed:n.playbackRate()})}),n.on("seeked",function(){a({type:"seek"},!0)}),n.on("volumechange",function(){a({type:"volume"})}),n.on("seekforward",t),n.on("seekrewind",t)});var A=i("./src/udemy/js/utils/ud-api-stat.js");s.a.plugin("performanceTracking",function(i){var n=this,r=null,a=!1,s={type:null,startTime:null,endTime:null,getTime:function(){return this.endTime-this.startTime}},o={type:null,startTime:null,endTime:null,getTime:function(){return this.endTime-this.startTime}},u={};n.on("onbandwidthwatermarkupdate",function(e,t){u=t.bandwidthWatermarks}),n.one("play",function(){r=new Date}),n.one("playing",function(){var e=new Date-r,t={wait_time:e,time:e,key:"initial_start"};Object(O.a)(n,i,u,t,!0),A.e.trackPageEvent("videoplayertiming",A.d.COURSE_TAKING,t),a=!0}),n.on("seeking",function(){s.startTime=new Date,s.type="unbuffered_seek";for(var e=n.buffered(),t=0;t<e.length;t++)if(n.currentTime()>=e.start(t)&&n.currentTime()<=e.end(t)){s.type="buffered_seek";break}}),n.on("seeked",function(){s.endTime=new Date;var e=s.endTime-s.startTime,t={wait_time:e,time:e,key:s.type};Object(O.a)(n,i,u,t,!0),A.e.trackPageEvent("videoplayertiming",A.d.COURSE_TAKING,t),s={type:null,startTime:null,endTime:null,getTime:function(){return this.endTime-this.startTime}}}),n.on("waiting",function(){a&&(o.startTime=new Date,o.type="waiting")}),n.on("timeupdate",function(){if(o.startTime){o.endTime=new Date;var e=o.getTime(),t={wait_time:e,time:e,key:o.type};Object(O.a)(n,i,u,t,!0),A.e.trackPageEvent("videoplayertiming",A.d.COURSE_TAKING,t),o={type:null,startTime:null,endTime:null,getTime:function(){return this.endTime-this.startTime}}}})});var L=i("./node_modules/js-cookie/src/js.cookie.js"),P=i.n(L),C=i("./src/udemy/js/video-player/videojs-plugins/resolution-cookie-key.js");s.a.plugin("persistUserSetting",function(e){var n=this;function r(){t(Object(C.a)(e.courseId),n.resolution)}function a(){t("playbackspeed",n.playbackRate())}function s(){t("volume",Math.round(100*n.volume())/100),t("mute",n.muted()?"1":"0")}function t(e,t){P.a.set(e,t,{expires:30,path:"/"})}n.ready(function(){var e,t,i;0<=(e=Number(P.a.get("volume")||"0.5"))&&e<=1&&n.techName_&&n.volume(e),Number(P.a.get("mute")||"0")&&n.muted(!0),"Html5"===n.techName_&&(t=n.playbackRate(),i=Number(P.a.get("playbackspeed")),-1===(n.options().playbackRates||[]).indexOf(i)&&(i=t),n.one("canplaythrough",function(){n.playbackRate(i),n.trigger("ratechange")})),n.on("changeRes",r),n.on("ratechange",a),n.on("volumechange",s)})}),window.videojs=s.a,s.a.plugin("hls",a.a),s.a.plugin("sneakpeek",u.a);t.default=s.a},20:function(e,t){}}]);
//# sourceMappingURL=videojs-open-source-package.82475feeb6aaa0285f3d.js.map